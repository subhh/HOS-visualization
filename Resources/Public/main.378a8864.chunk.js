(window.webpackJsonphos=window.webpackJsonphos||[]).push([[0],{57:function(e){e.exports=JSON.parse('{"Article":"Artikel","Dissertation":"Dissertation","Book":"Buch","Book Part":"Buch (Auszug)","Thesis":"Thesis","Digital":"Digital","Working Paper":"Diskussionspapier","Technical Report":"Technischer Bericht","Conference Object":"Konferenzobjekt","Other":"Andere","Research Paper":"Wissenschaftliche Publikation","Proceedings Part":"Tagungsband (Auszug)","Proceedings":"Tagungsband","Preprint":"Vorabdruck","Dataset":"Daten","Interactive Resource":"interaktive Ressource","Manual":"Handbuch","Diagram":"Diagramm","Learning Object":"Lernmaterial"}')},58:function(e){e.exports=JSON.parse('[{"name":"Afar-Sprache","code":"aa"},{"name":"Abchasisch","code":"ab"},{"name":"Awestisch","code":"ae"},{"name":"Afrikaans","code":"af"},{"name":"Akan-Sprache","code":"ak"},{"name":"Amharisch","code":"am"},{"name":"Aragonesisch","code":"an"},{"name":"Arabisch","code":"ar"},{"name":"Assamesisch","code":"as"},{"name":"Awarisch","code":"av"},{"name":"Aymara-Sprache","code":"ay"},{"name":"Aserbeidschanisch","code":"az"},{"name":"Baschkirisch","code":"ba"},{"name":"Wei\xdfrussisch","code":"be"},{"name":"Bulgarisch","code":"bg"},{"name":"Bihari","code":"bh"},{"name":"Bislama; Beach-la-mar","code":"bi"},{"name":"Bambara-Sprache","code":"bm"},{"name":"Bengali","code":"bn"},{"name":"Tibetisch","code":"bo"},{"name":"Bretonisch","code":"br"},{"name":"Bosnisch","code":"bs"},{"name":"Katalanisch","code":"ca"},{"name":"Katalanisch","code":"ca"},{"name":"Tschetschenisch","code":"ce"},{"name":"Chamorro-Sprache","code":"ch"},{"name":"Korsisch","code":"co"},{"name":"Cree-Sprache","code":"cr"},{"name":"Tschechisch","code":"cs"},{"name":"Kirchenslawisch","code":"cu"},{"name":"Kirchenslawisch","code":"cu"},{"name":"Tschuwaschisch","code":"cv"},{"name":"Kymrisch","code":"cy"},{"name":"D\xe4nisch","code":"da"},{"name":"Deutsch","code":"de"},{"name":"Maledivisch","code":"dv"},{"name":"Dzongkha","code":"dz"},{"name":"Ewe-Sprache","code":"ee"},{"name":"Griechisch","code":"el"},{"name":"Englisch","code":"en"},{"name":"Esperanto","code":"eo"},{"name":"Spanisch","code":"es"},{"name":"Spanisch","code":"es"},{"name":"Estnisch","code":"et"},{"name":"Baskisch","code":"eu"},{"name":"Persisch","code":"fa"},{"name":"Ful","code":"ff"},{"name":"Finnisch","code":"fi"},{"name":"Fidschi-Sprache","code":"fj"},{"name":"F\xe4r\xf6isch","code":"fo"},{"name":"Franz\xf6sisch","code":"fr"},{"name":"Friesisch","code":"fy"},{"name":"Irisch","code":"ga"},{"name":"G\xe4lisch-Schottisch","code":"gd"},{"name":"G\xe4lisch-Schottisch","code":"gd"},{"name":"Galicisch","code":"gl"},{"name":"Guarani-Sprache","code":"gn"},{"name":"Gujarati-Sprache","code":"gu"},{"name":"Manxs","code":"gv"},{"name":"Haussa-Sprache","code":"ha"},{"name":"Hebr\xe4isch","code":"he"},{"name":"Hindi","code":"hi"},{"name":"Hiri-Motu","code":"ho"},{"name":"Kroatisch","code":"hr"},{"name":"Haitien; Frankokreolisch","code":"ht"},{"name":"Ungarisch","code":"hu"},{"name":"Armenisch","code":"hy"},{"name":"Herero-Sprache","code":"hz"},{"name":"Interlingua","code":"ia"},{"name":"Bahasa Indonesia","code":"id"},{"name":"Interlingue","code":"ie"},{"name":"Ibo-Sprache","code":"ig"},{"name":"Nosu","code":"ii"},{"name":"Inupik","code":"ik"},{"name":"Sinohoan","code":"io"},{"name":"Isl\xe4ndisch","code":"is"},{"name":"Italienisch","code":"it"},{"name":"Inuktitut","code":"iu"},{"name":"Japanisch","code":"ja"},{"name":"Javanisch","code":"jv"},{"name":"Georgisch","code":"ka"},{"name":"Kongo-Sprache","code":"kg"},{"name":"Kikuyu-Sprache","code":"ki"},{"name":"Kikuyu-Sprache","code":"ki"},{"name":"Kwanyama-Sprache","code":"kj"},{"name":"Kwanyama-Sprache","code":"kj"},{"name":"Kasachisch","code":"kk"},{"name":"Gr\xf6nl\xe4ndisch","code":"kl"},{"name":"Gr\xf6nl\xe4ndisch","code":"kl"},{"name":"Kambodschanisch","code":"km"},{"name":"Kannada","code":"kn"},{"name":"Koreanisch","code":"ko"},{"name":"Kanuri-Sprache","code":"kr"},{"name":"Kaschmiri","code":"ks"},{"name":"Kurdisch","code":"ku"},{"name":"Komi-Sprache","code":"kv"},{"name":"Kornisch","code":"kw"},{"name":"Kirgisisch","code":"ky"},{"name":"Latein","code":"la"},{"name":"Luxemburgisch","code":"lb"},{"name":"Luxemburgisch","code":"lb"},{"name":"Ganda-Sprache","code":"lg"},{"name":"Limburgisch","code":"li"},{"name":"Lingala","code":"ln"},{"name":"Laotisch","code":"lo"},{"name":"Litauisch","code":"lt"},{"name":"Luba-Katanga-Sprache","code":"lu"},{"name":"Lettisch","code":"lv"},{"name":"Malagassi-Sprache","code":"mg"},{"name":"Marschallesisch","code":"mh"},{"name":"Maori-Sprache","code":"mi"},{"name":"Makedonisch","code":"mk"},{"name":"Malayalam","code":"ml"},{"name":"Mongolisch","code":"mn"},{"name":"Moldauisch","code":"mo"},{"name":"Marathi","code":"mr"},{"name":"Malaiisch","code":"ms"},{"name":"Maltesisch","code":"mt"},{"name":"Burmesisch; Birmanisch","code":"my"},{"name":"Nauruanisch","code":"na"},{"name":"Bokm\xe5l","code":"nb"},{"name":"Bokm\xe5l","code":"nb"},{"name":"Ndebele-Sprache","code":"nd"},{"name":"Ndebele-Sprache","code":"nd"},{"name":"Nepali","code":"ne"},{"name":"Ndonga","code":"ng"},{"name":"Niederl\xe4ndisch","code":"nl"},{"name":"Niederl\xe4ndisch","code":"nl"},{"name":"Nynorsk","code":"nn"},{"name":"Nynorsk","code":"nn"},{"name":"Norwegisch","code":"no"},{"name":"Ndbele-Sprache","code":"nr"},{"name":"Ndebele-Sprache","code":"nr"},{"name":"Navajo-Sprache","code":"nv"},{"name":"Nyanja-Sprache","code":"ny"},{"name":"Nyanja-Sprache","code":"ny"},{"name":"Nyanja-Sprache","code":"ny"},{"name":"Okzitanisch","code":"oc"},{"name":"Okzitanisch","code":"oc"},{"name":"Ojibwa-Sprache","code":"oj"},{"name":"Galla-Sprache","code":"om"},{"name":"Oriya-Sprache","code":"or"},{"name":"Ossetisch","code":"os"},{"name":"Pandschabi-Sprache","code":"pa"},{"name":"Pandschabi-Sprache","code":"pa"},{"name":"Pali","code":"pi"},{"name":"Polnisch","code":"pl"},{"name":"Paschtu","code":"ps"},{"name":"Portugiesisch","code":"pt"},{"name":"Quechua-Sprache","code":"qu"},{"name":"R\xe4toromanisch; Rumantsch","code":"rm"},{"name":"Rundi-Sprache","code":"rn"},{"name":"Rum\xe4nisch","code":"ro"},{"name":"Russisch","code":"ru"},{"name":"Rwanda-Sprache","code":"rw"},{"name":"Sanskrit","code":"sa"},{"name":"Sardisch","code":"sc"},{"name":"Sindhi-Sprache","code":"sd"},{"name":"Nordsaamisch","code":"se"},{"name":"Sango-Sprache","code":"sg"},{"name":"Singhalesisch","code":"si"},{"name":"Slowakisch","code":"sk"},{"name":"Slowenisch","code":"sl"},{"name":"Samoanisch","code":"sm"},{"name":"Schona-Sprache","code":"sn"},{"name":"Somali","code":"so"},{"name":"Albanisch","code":"sq"},{"name":"Serbisch","code":"sr"},{"name":"Swasi-Sprache","code":"ss"},{"name":"S\xfcd-Sotho-Sprache","code":"st"},{"name":"Sundanesisch","code":"su"},{"name":"Schwedisch","code":"sv"},{"name":"Swahili","code":"sw"},{"name":"Tamil","code":"ta"},{"name":"Telugu-Sprache","code":"te"},{"name":"Tadschikisch","code":"tg"},{"name":"Thail\xe4ndisch","code":"th"},{"name":"Tigrinja-Sprache","code":"ti"},{"name":"Turkmenisch","code":"tk"},{"name":"Tagalog","code":"tl"},{"name":"Tswana-Sprache","code":"tn"},{"name":"Tongaisch","code":"to"},{"name":"T\xfcrkisch","code":"tr"},{"name":"Tsonga-Sprache","code":"ts"},{"name":"Tatarisch","code":"tt"},{"name":"Twi-Sprache","code":"tw"},{"name":"Tahitisch","code":"ty"},{"name":"Uigurisch","code":"ug"},{"name":"Uigurisch","code":"ug"},{"name":"Ukrainisch","code":"uk"},{"name":"Urdu","code":"ur"},{"name":"Usbekisch","code":"uz"},{"name":"Venda-Sprache","code":"ve"},{"name":"Vietnamesisch","code":"vi"},{"name":"Volap\xfck","code":"vo"},{"name":"Wallonisch","code":"wa"},{"name":"Wolof-Sprache","code":"wo"},{"name":"Xhosa-Sprache","code":"xh"},{"name":"Jiddisch","code":"yi"},{"name":"Yoruba-Sprache","code":"yo"},{"name":"Zhuang","code":"za"},{"name":"Zhuang","code":"za"},{"name":"Chinesisch","code":"zh"},{"name":"Zulu-Sprache","code":"zu"}]')},70:function(e,t,n){e.exports=n(93)},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(0),c=n.n(a),i=n(43),o=n.n(i),l=n(24),u=n(26),s=n(4),d=n(6),f=n(1),h="UPDATE_QUERY",m="TOGGLE_MAP_LEGEND",p="TOGGLE_GRAPH_LEGEND",b="TOGGLE_MAGRAPH_EXPLOREEGEND";function g(){return{type:m}}function O(){return{type:p}}function v(){return{type:b}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=Object(a.createContext)(),x=Object(a.createContext)(),E={query:"",showMapLegend:!0,showGraphLegend:!0,showGraphExploreLegend:!0};function k(e,t){var n=t.type,r=t.payload;switch(n){case h:return j({},e,{query:r||""});case m:return j({},e,{showMapLegend:!e.showMapLegend});case p:return j({},e,{showGraphLegend:!e.showGraphLegend});case b:return j({},e,{showGraphExploreLegend:!e.showGraphExploreLegend});default:return e}}var S,P,D=n(14),L=n(11),z={glyphsDir:"/typo3conf/ext/hosvisualization/Resources/Public",devServer:"https://hosdev.sub.uni-hamburg.de",solrEndpoint:"/solrQueryTest",collectionField:"internal_institution",topNSubject:6,topMCoSubjects:20,queryLimits:{internal_institution:100,internal_geoLocation_facet:100,language:100,publicationYear:25,resourceType:100}},C="publicationYear",_=z.queryLimits,M=_.language,B=_[C],A=_.resourceType,T=(S={},Object(f.a)(S,"rightsOA",{type:"terms",field:"rightsOA"}),Object(f.a)(S,"language",{type:"terms",field:"language",mincount:0,limit:M}),Object(f.a)(S,C,{type:"terms",field:C,mincount:0,limit:B,sort:{index:"desc"}}),Object(f.a)(S,"resourceType",{type:"terms",field:"resourceType",mincount:0,limit:A}),Object(f.a)(S,"unbekannt",{type:"query",q:"-subject:[* TO *]"}),Object(f.a)(S,"bekannt",{type:"query",q:"subject:[* TO *]"}),S),R=n(57),I=n(58);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=(P={},Object(f.a)(P,"language",Object(L.mapValues)(Object(L.keyBy)(I,"code"),function(e){return e.name})),Object(f.a)(P,"resourceType",R),Object(f.a)(P,"rightsOA",{"zugriffsbeschr\xe4nkt":"Closed/unbekannt"}),P),G=function(e,t){var n=t.type,r=t.payload;switch(n){case"UPDATE_STATS":var a=Object(L.mapValues)(r.facets,function(e,t,n){switch(t){case"language":case"resourceType":case C:case"rightsOA":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{buckets:[]},t=arguments.length>1?arguments[1]:void 0,n=Object(L.mapValues)(Object(L.keyBy)(e.buckets,"val"),function(e){return e.count});return t?Object(L.mapKeys)(n,function(e,n){return t[n]||n}):n}(e,q[t]);case"bekannt":case"unbekannt":return e.count;default:return e}}),c=Object(L.omit)(a,["bekannt","unbekannt"]),i=Object(L.pick)(a,["unbekannt","bekannt"]),o=F({},c,Object(f.a)({},"subject",i));return F({},e,{},o);default:return e}},W=n(44),H=n.n(W),K=n(59),V=function(){var e=Object(K.a)(H.a.mark(function e(t,n){var r,a;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:a=e.sent,n(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.message);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t,n){return e.apply(this,arguments)}}(),U=function(e,t){var n=Object(a.useState)(),r=Object(d.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!0),l=Object(d.a)(o,2),u=l[0],s=l[1];return Object(a.useEffect)(function(){s(!0)},[e]),Object(a.useEffect)(function(){var n=!0;return V(e,function(e){n&&(s(!1),i(e),t&&t(e))}),function(){n=!1}},[e,t]),{result:c,isLoading:u}},J=function(e,t){return Object(a.useMemo)(function(){var n=t&&"*"!==t?'"'.concat(encodeURIComponent(t),'"'):"*";return"".concat(z.solrEndpoint,"?q=").concat(n,"&rows=0").concat(e?"&json.facet="+JSON.stringify(e):"")},[t,e])},Z=n(15),Y=n(17),X=Object(Y.formatLocale)({decimal:",",thousands:".",grouping:[3],currency:["\xa0\u20ac",""]}),Q=function(e){return X.format(",")(e)},$=function(e){var t=e.theme,n=e.fill;return{fill:t.colors[n]||n}},ee=function(e){e.theme,e.fill;return{position:"relative",svg:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}},te=function(e){var t=e.theme,n=e.width;return{width:"".concat(t.space[n]||n,"px")}},ne=function(e){var t=e.theme,n=e.height;return{height:"".concat(t.space[n]||n,"px")}},re=function(e){var t=e.theme,n=e.type,r=void 0===n?"normal":n;return{boxShadow:t.shadows[r]}},ae=function(e){var t=e.theme;return{borderRadius:"4px",border:"2px solid ".concat(t.colors.blueMediumDark)}},ce=function(e){return{background:e.theme.colors.blueMediumDark,svg:{fill:"white"}}},ie=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,a=void 0===r?0:r;return{transform:"translate(".concat(n,"px,").concat(a,"px)")}},oe=function(e){return e.debug?{display:"initial"}:{}};function le(){var e=Object(r.a)(["\n  position: absolute;\n  width: 1px;\n  top: ","px;\n  ",";\n"]);return le=function(){return e},e}function ue(){var e=Object(r.a)(["\n  display: inline-block;\n  position: absolute;\n  transform: translate(\n    ",",\n    -50%\n  );\n  top: ","px;\n"]);return ue=function(){return e},e}function se(){var e=Object(r.a)(["\n  position: absolute;\n  ",";\n  ",";\n  ",";\n"]);return se=function(){return e},e}function de(){var e=Object(r.a)(["\n  height: 1px;\n"]);return de=function(){return e},e}function fe(){var e=Object(r.a)(["\n  position: absolute;\n  ",";\n"]);return fe=function(){return e},e}function he(){var e=Object(r.a)(["\n  position: relative;\n  flex: 0 0 auto;\n  ",";\n"]);return he=function(){return e},e}function me(){var e=Object(r.a)(["\n  border-right: 1px solid white;\n  border-bottom: 1px solid white;\n  ",";\n\n  &:nth-last-child(-n + 10) {\n    border-bottom: none;\n  }\n\n  &:nth-child(10n) {\n    border-right: none;\n  }\n"]);return me=function(){return e},e}function pe(){var e=Object(r.a)(["\n  display: grid;\n  grid-template-rows: repeat(",", 1rem);\n  grid-template-columns: repeat(",", 1rem);\n"]);return pe=function(){return e},e}function be(){var e=Object(r.a)(["\n  width: 100px;\n"]);return be=function(){return e},e}function ge(){var e=Object(r.a)(["\n  width: 3.5rem;\n  text-align: right;\n  padding: 0;\n  padding-right: 1rem;\n  font-weight: 500;\n  font-size: ","px;\n  ",";\n"]);return ge=function(){return e},e}function Oe(){var e=Object(r.a)(["\n  white-space: nowrap;\n  max-width: 300px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 2rem;\n  font-weight: 500;\n  font-size: ","px;\n  ",";\n"]);return Oe=function(){return e},e}function ve(){var e=Object(r.a)(["\n  ",";\n  ",";\n"]);return ve=function(){return e},e}function ye(){var e=Object(r.a)(["\n  height: ","px;\n\n  :not(:last-child) td {\n    border-bottom: 1px solid ",";\n  }\n\n  td:first-child {\n    padding-left: ","px;\n  }\n\n  td:last-child {\n    padding-right: ","px;\n  }\n"]);return ye=function(){return e},e}function je(){var e=Object(r.a)(["\n  flex: 0 0 auto;\n  border-spacing: unset;\n"]);return je=function(){return e},e}function we(){var e=Object(r.a)([""]);return we=function(){return e},e}function xe(){var e=Object(r.a)(["\n  box-shadow: ",";\n  border-radius: 4px;\n"]);return xe=function(){return e},e}var Ee=Object(s.default)(D.Box).attrs({px:4,pt:4,pb:48,mx:3,mb:4,bg:"ghostWhite"})(xe(),function(e){return e.theme.shadows.normal}),ke=Object(s.default)(D.Heading).attrs({fontSize:2,fontWeight:500,color:"blueDark",mb:4})(we()),Se=function(e){var t=e.theme,n=e.highlight,r=t.colors,a=r.blueLight,c=r.blueLightGradientOffset,i=r.blueDark,o=r.blueDarkGradientOffset;return{backgroundImage:n?"linear-gradient(58deg, ".concat(c," 0%, ").concat(a," 100%);"):"linear-gradient(58deg, ".concat(i," 0%, ").concat(o," 100%)"),borderRadius:"2px"}},Pe=s.default.table(je()),De=s.default.tr(ye(),function(e){var t=e.theme,n=e.h;return t.space[n]},function(e){return e.theme.colors.greyLight},function(e){return e.theme.space[2]},function(e){return e.theme.space[2]}),Le=Object(s.default)(D.Box)(ve(),ne,Se),ze=s.default.td(Oe(),function(e){return e.theme.fontSizes[0]},Z.a),Ce=s.default.td(ge(),function(e){return e.theme.fontSizes[0]},Z.a),_e=s.default.td(be()),Me=Object(s.default)(D.Box)(pe(),function(e){return e.size},function(e){return e.size}),Be=s.default.div(me(),Z.a),Ae=Object(s.default)(D.Box)(he(),Z.d),Te=Object(s.default)(D.Box)(fe(),ie),Re=Object(s.default)(D.Box)(de()),Ie=Object(s.default)(D.Box)(se(),Se,ie,Z.d),Ne=Object(s.default)(D.Text).attrs({fontSize:0,width:40,color:"grey"})(ue(),function(e){return"center"===e.textAlign?"-50%":0},function(e){return e.y}),Fe=Object(s.default)(D.Box).attrs({bg:"grey",height:6})(le(),function(e){return e.y},Z.d);function qe(){var e=Object(r.a)(["\n  color: ",";\n  font-weight: 500;\n  ",";\n  ",";\n\n  &:before {\n    content: ' ';\n    display: inline-block;\n    margin-right: 8px;\n    width: 8px;\n    height: 8px;\n    border-radius: 2px;\n    ",";\n  }\n"]);return qe=function(){return e},e}function Ge(){var e=Object(r.a)(["\n  display: flex;\n  /* flex-direction: ","; */\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  ",";\n"]);return Ge=function(){return e},e}var We=s.default.ul(Ge(),function(e){return e.direction},Z.b),He=s.default.li(qe(),function(e){return e.theme.colors.grey},Z.e,Z.c,Z.a),Ke=Object(s.withTheme)(function(e){var t=e.data,n=e.theme,r=e.reverse,a=e.direction,i=void 0===a?"column":a,o=r?n.chartColors.slice().reverse():n.chartColors;return c.a.createElement(We,{flexDirection:i},t.map(function(e,t){return c.a.createElement(He,{key:"entry-".concat(e),bg:o[t],mb:1,mr:3,fontSize:0},e)}))});function Ve(){var e=Object(r.a)(["\n  border-radius: 4px;\n  position: relative;\n  overflow: hidden;\n\n  @supports (mix-blend-mode: soft-light) {\n    &:before {\n      content: '\xa0';\n      position: absolute;\n      opacity: 0.3;\n      background-image: linear-gradient(183deg, #ffffff 0%, #000000 100%);\n      mix-blend-mode: soft-light;\n      width: 100%;\n      height: 100%;\n    }\n  }\n"]);return Ve=function(){return e},e}var Ue=Object(s.default)(D.Box)(Ve()),Je=Object(s.withTheme)(function(e){var t=e.size,n=void 0===t?10:t,r=e.data,i=e.title,o=e.theme,l=e.flipColors,u=e.reverse,s=Object(a.useMemo)(function(){return l?o.chartColors.slice().reverse():o.chartColors},[l,o.chartColors]),f=Object(a.useMemo)(function(){var e=Object(L.sum)(Object(L.values)(r)),t=Object(L.entries)(r).map(function(t){var r=Object(d.a)(t,2),a=r[0],c=r[1]/e*(n*n)||0;return[a,{percentage:c,rounded:Math.round(c)}]}),a=Object(L.orderBy)(t,"[1].percentage","desc"),c=a[0],i=100-Object(L.sumBy)(a,"[1].rounded");return i&&c&&(c[1].rounded+=i),Object(L.orderBy)(t,0,[u?"desc":"asc"])},[r,u,n]);return c.a.createElement(Ee,null,i&&c.a.createElement(ke,null,i),c.a.createElement(Ue,{mb:4},c.a.createElement(Me,{size:n,"data-testid":"grid"},f.map(function(e,t){var n=Object(d.a)(e,2),r=(n[0],n[1].rounded);return c.a.createElement(a.Fragment,{key:"group-".concat(t)},Array.apply(null,Array(r)).map(function(e,n){return c.a.createElement(Be,{"data-testid":"cell",key:"cell-".concat(t,"-").concat(n),bg:s[t]})}))}))),c.a.createElement(Ke,{data:f.map(function(e){var t=Object(d.a)(e,2),n=t[0];t[1];return n}),reverse:l}))}),Ze=function(e){var t=e.title,n=void 0===t?"":t,r=e.data;return Object(a.useMemo)(function(){var e=Object(L.values)(r),t=Object(Y.scaleLinear)().domain([0,Object(L.max)(e)]).range([2,100]);return c.a.createElement(Ee,null,c.a.createElement(ke,null,n),c.a.createElement(Pe,null,c.a.createElement("tbody",null,Object(L.orderBy)(Object(L.entries)(r),1,"desc").map(function(e,n){var r=Object(d.a)(e,2),a=r[0],i=r[1];return c.a.createElement(De,{key:"row-".concat(n),h:4},c.a.createElement(ze,{title:a,color:"greyDark"},a),c.a.createElement(Ce,{color:"grey"},Q(i)),c.a.createElement(_e,null,c.a.createElement(Le,{width:"".concat(t(i),"%"),height:2})))}))))},[n,r])},Ye=function(e){var t=e.value,n=e.width,r=e.label,a=e.padding;return c.a.createElement(Te,{y:t},c.a.createElement(Re,{ml:a,width:n,bg:"greyLight"}),c.a.createElement(Ne,{textAlign:"right"},r))},Xe=function(e){var t=e.data,n=e.legend,r=e.height,a=void 0===r?250:r,i=e.pt,o=void 0===i?0:i,l=e.pb,u=void 0===l?32:l,s=e.pl,f=void 0===s?48:s,h=e.pr,m=void 0===h?32:h,p=e.bw,b=void 0===p?8:p,g=e.bs,O=void 0===g?4:g,v=(e.labelFreq,e.title),y=void 0===v?"title":v,j=Object(L.keys)(t),w=Object(L.values)(t),x=Object(L.entries)(t),E=Object(Y.scaleLinear)().domain([0,Object(L.max)(w)||0]).range([a-u,o]),k=E(0),S=w.length,P=S*b+O*(S-1)+f+m,D=Object(Y.scaleTime)().domain(Object(Y.extent)(j).map(function(e){return new Date(e)})).range([f,P]).nice(),z=D.ticks(Y.timeYear.every(3)),C=D.tickFormat("%Y");return c.a.createElement(Ee,null,c.a.createElement(ke,null,y),c.a.createElement(Ae,{width:P,height:a,mb:4},E.ticks(4).map(function(e){return c.a.createElement(Ye,{key:"yAxis-".concat(e),label:e,value:E(e),padding:f,width:P-f})}),z.map(function(e,t){return c.a.createElement(Te,{key:"tick-".concat(t),x:D(e),y:0},c.a.createElement(Fe,{y:k+2*O}),c.a.createElement(Ne,{y:k+6*O,textAlign:"center"},C(e)))}),x.map(function(e,t){var n=Object(d.a)(e,2),r=n[0],a=n[1],i=D(new Date(r)),o=E(a),l=k-o;return c.a.createElement(Te,{key:"column-".concat(i,"-").concat(o),x:i,y:0},c.a.createElement(Ie,{x:-b/2,y:o,width:b,height:l,highlight:t>=x.length-3}))})),n&&c.a.createElement(Ke,{reverse:!0,data:n,direction:"row"}))};function Qe(){var e=Object(r.a)([""]);return Qe=function(){return e},e}var $e=["Erfassung abgeschlossen","Erfassung in Arbeit"],et=function(e){return c.a.createElement(D.Flex,Object.assign({justifyContent:"center",bg:"#F8FBFB",py:4,px:5},e))},tt=Object(s.default)(D.Text).attrs({color:"blueDark"})(Qe()),nt=function(){var e=Object(a.useContext)(w).query,t=function(e){var t=J(T,e),n=Object(a.useReducer)(G,{count:null}),r=Object(d.a)(n,2),c=r[0],i=r[1],o=Object(a.useCallback)(function(e){i(function(e){return{type:"UPDATE_STATS",payload:e}}(e))},[]);return{isLoading:U(t,o).isLoading,stats:c}}(e),n=t.isLoading,r=t.stats,i=r.count,o=r.language,l=r.rightsOA,u=r.resourceType,s=r[C],f=r.subject;return c.a.createElement(et,null,c.a.createElement(D.Flex,{width:[1,1,1,1,.75,1],justifyContent:"center",flexWrap:"wrap",alignItems:"flex-start"},i>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Je,{title:"Lizenzstatus",data:l,reverse:!0}),c.a.createElement(Xe,{title:"Erscheinungsjahr",data:s,height:190,legend:$e}),c.a.createElement(Ze,{title:"Sprache",data:o}),c.a.createElement(Ze,{title:"Publikationsform",data:u}),c.a.createElement(Je,{title:"Thema",data:f})),0===i&&!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(tt,null,"Es sind keine Statistiken zum Suchbegriff\xa0"),c.a.createElement(tt,{fontStyle:"italic",fontWeight:500},"\u201e",e,"\u201c"),c.a.createElement(tt,null,"\xa0verf\xfcgbar.")),n&&c.a.createElement(tt,null,"Lade Statistiken ...")))},rt=n(62),at=n(47),ct=Object(at.a)(D.Box),it=function(e){var t=e.expand,n=e.renderHero,r=void 0===n?function(e){return null}:n,i=e.renderContent,o=void 0===i?function(e){return null}:i,l=Object(a.useState)(null),u=Object(d.a)(l,2),s=u[0],f=u[1],h=Object(a.useState)(null),m=Object(d.a)(h,2),p=m[0],b=m[1];Object(a.useEffect)(function(){var e,n=document.querySelector("#nav-primary"),r=document.querySelector("#header");e=n&&r?n.clientHeight+r.clientHeight:130,console.log("header height",e);var a=function(){var n=window.innerWidth,r=t?window.innerHeight-e:.4*window.innerHeight;f(n),b(r)};a();var c=Object(L.debounce)(a,200);return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}},[t]);var g=Object(at.b)(!t,null,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});return c.a.createElement(c.a.Fragment,null,p&&c.a.createElement(rt.Spring,{to:{height:p}},function(e){var t=e.height;return r({width:s,height:Math.trunc(t),targetHeight:p})}),g.map(function(e){var t=e.item,n=e.key,r=e.props;return t&&c.a.createElement(ct,{key:n,style:r},o())}))},ot=n(25);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ut,st,dt,ft,ht=function(e){var t=e.location,n=e.history;return Object(a.useCallback)(function(e){n.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{search:e?"q=".concat(encodeURIComponent(e)):null}))},[n,t])},mt=z.collectionField,pt={collections:{type:"terms",field:mt,limit:z.queryLimits[mt]}},bt=z.collectionField,gt=z.topNSubject,Ot=z.topMCoSubjects,vt={collections:{type:"terms",field:bt,limit:z.queryLimits[bt],facet:{subjects:{type:"terms",field:"subject",limit:gt,facet:{related:{type:"terms",field:"subject",limit:Ot}}}}}},yt=n(23);function jt(){var e=Object(r.a)(["\n  font-weight: 700;\n"]);return jt=function(){return e},e}function wt(){var e=Object(r.a)(["\n  text-transform: ",";\n"]);return wt=function(){return e},e}function xt(){var e=Object(r.a)(["\n  fill: none;\n  stroke-width: 1px;\n  stroke: black;\n"]);return xt=function(){return e},e}function Et(){var e=Object(r.a)(["\n  display: ",";\n  cursor: pointer;\n  user-select: none;\n  ",";\n"]);return Et=function(){return e},e}function kt(){var e=Object(r.a)(["\n  stroke-width: 1.5px;\n  /* stroke-opacity: 0.75; */\n  ",";\n"]);return kt=function(){return e},e}function St(){var e=Object(r.a)(["\n  fill: white;\n  opacity: 0.5;\n"]);return St=function(){return e},e}function Pt(){var e=Object(r.a)(["\n  opacity: 0.9;\n"]);return Pt=function(){return e},e}function Dt(){var e=Object(r.a)(["\n  fill-opacity: 0.9;\n"]);return Dt=function(){return e},e}function Lt(){var e=Object(r.a)(["\n  width: 100%;\n  height: 100%;\n"]);return Lt=function(){return e},e}var zt="collection",Ct="selected collection",_t="selected subject",Mt="highlight",Bt=s.default.svg(Lt()),At=s.default.circle.attrs(Object(Z.f)({variants:(ut={},Object(f.a)(ut,zt,{fill:"blueLighter"}),Object(f.a)(ut,"subject",{fill:"greyLight"}),Object(f.a)(ut,_t,{fill:"white"}),Object(f.a)(ut,Ct,{fill:"blueLighter"}),ut)}))(Dt()),Tt=Object(s.default)(At)(Pt()),Rt=Object(s.default)(At)(St()),It=s.default.line.attrs(Object(Z.f)({variants:(st={},Object(f.a)(st,Mt,{stroke:"blueLight"}),Object(f.a)(st,"rc",{stroke:"red",display:"none"}),Object(f.a)(st,"cs",{stroke:"greyLight",strokeDasharray:"8 4"}),Object(f.a)(st,"ss",{stroke:"greyLight"}),st)}))(kt(),oe),Nt=s.default.g.attrs(function(e){var t=e.x,n=e.y;e.depth;return{style:{transform:"translate(".concat(t,"px,").concat(n,"px)")}}})(Et(),function(e){var t=e.depth;return t<0||isNaN(t)?"none":"initial"},oe),Ft=s.default.rect(xt()),qt=s.default.text.attrs(Object(Z.f)({variants:(dt={},Object(f.a)(dt,zt,{fontSize:1,fill:"blueDark",fontWeight:700,textTransform:"uppercase"}),Object(f.a)(dt,"subject",{fontSize:0,fill:"greyDark",fontWeight:500}),Object(f.a)(dt,Ct,{fontSize:1,fill:"blueDark",fontWeight:700,textTransform:"uppercase"}),Object(f.a)(dt,_t,{fontSize:0,fill:"greyDark",fontWeight:700}),dt)}))(wt(),function(e){return e.textTransform||"initial"}),Gt=s.default.text.attrs(Object(Z.f)({variants:(ft={},Object(f.a)(ft,zt,{fontSize:3,fill:"blueDark"}),Object(f.a)(ft,"subject",{fontSize:2,fill:"grey"}),Object(f.a)(ft,_t,{fontSize:2,fill:"grey"}),Object(f.a)(ft,Ct,{fontSize:3,fill:"white"}),ft)}))(jt()),Wt=function(e,t,n,r){return{id:e,label:0===n?e:"".concat(e.slice(0,40)," ").concat(e.length>40?"...":""),counts:[{id:"#collection",count:t}],get count(){return this.counts[0].count},get foreignRelated(){var e=this;return this.related.filter(function(t){return 1===t.depth&&t.parent!==e.parent})},get isBridge(){return this.foreignRelated.length>0&&1===this.depth},get isContext(){return!!this.related.filter(function(e){return 1===e.depth}).find(function(e){return e.selected})},get type(){return["root",zt,"subject"][this.depth+1]},depth:n,parent:null,children:[],related:[],selected:r}};function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Vt=[9,6],Ut=[10,60],Jt=function(e,t){var n=t.type,r=t.payload;switch(n){case"RECEIVED_RELATIONS":var a=function(e){var t=e.data,n=e.query,r=t.facets.collections,a=r?r.buckets:[],c=new Map,i=Wt("root",0,-1);c.set("root",i);var o=[];!function e(t){var r=t.parent,a=t.children,i=t.depth,l=void 0===i?0:i,u=[];a.forEach(function(e){var t=e.val,a=e.count,i=e.subjects,s=e.related,d=c.has(t);if(!d){var f=Wt(t,a,l,t===n);c.set(t,f),r&&(f.parent=r,r.children.push(f))}var h=c.get(t);d&&h.id!==r.id&&(h.related.push(r),h.counts.push({id:r.id,count:a}));var m=i||s;if(r&&t!==r.id){var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{get id(){return[this.source.id,this.target.id].sort().join("-")},source:e,target:t,weight:n,type:["rc","cs","ss"][r],bidirectional:a}}(r,h,a/r.count,l);o.push(p)}m&&u.push({parent:h,children:m.buckets,depth:l+1})}),u.forEach(e)}({parent:i,children:a});var l=Object(yt.a)(c.values()),u=Object(Y.extent)(l.map(function(e){return e.count})),s=Object(Y.scaleSqrt)().domain(u).range(Ut),d=l.map(function(e){if(e!==i){var t=s(e.count);e.radius=t,e.width=Math.round(Math.max(e.label.length*Vt[e.depth],2*t)+16),e.height=2*t+32+16}else e.width=0,e.height=0;return e}),f=Object(L.values)(Object(L.mapValues)(Object(L.groupBy)(o,"id"),function(e){return Kt({},e[0],{bidirectional:e.length>1})})),h=d.filter(function(e){return e.depth<2}),m=f.filter(function(e){var t=e.source,n=e.target;return t.depth<2&&n.depth<2}),p=h.filter(function(e){return 0===e.depth&&e.children.length>0}).map(function(e){return{id:e.id,leaves:[e].concat(Object(yt.a)(e.children.filter(function(e){return 0===e.related.length||e.related.filter(function(e){return e.depth<2}).every(function(t){return t.parent===e.parent})})))}}).filter(function(e){return e.leaves.length>1}),b=Object(L.flatten)(p.map(function(e){return e.leaves})),g=L.without.apply(void 0,[h.filter(function(e){return e!==i})].concat(Object(yt.a)(b)));if(g.length>0){var O={id:"remaining",leaves:g};p.push(O)}return{nodes:h,links:m,groups:p}}(r);return Kt({},e,{nodes:a.nodes,links:a.links,groups:a.groups});default:return e}},Zt=function(e,t){var n=Object(a.useReducer)(Jt,{nodes:[],links:[],groups:[]}),r=Object(d.a)(n,2),c=r[0],i=r[1],o=J(t?vt:pt,e),l=Object(a.useCallback)(function(t){i(function(e,t){return{type:"RECEIVED_RELATIONS",payload:{data:e,query:t}}}(t,e))},[e]);return U(o,l),c},Yt=n(63);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var $t=function(e,t){var n=t.type,r=t.payload;switch(n){case"DATA_CHANGED":var a,c=r.links,i=r.groups,o=r.width,l=r.height,u=r.nodes.map(function(t){if("root"!==t.id&&!t.selected){var n=e.cache[t.id];if(n){var r=Object(L.clamp)(n.x,60,o-60),a=Object(L.clamp)(n.y,120,l-120);t.x=r,t.y=a}else t.x=o/2,t.y=l/2}return t.selected&&(t.x=o/2,t.y=l/2,t.fixed=!0),t});a=o===e.width&&l===e.height?Qt({},e.cache,{},Object(L.mapValues)(Object(L.keyBy)(e.nodes,"id"),function(e){var t=e.x,n=e.y;return{x:Math.round(t),y:Math.round(n)}})):{};var s=u.find(function(e){return"root"===e.id});s&&(s.x=o/2,s.y=l/2,s.fixed=!0);var d=Object(yt.a)(u),f=[];if(u.length>0){var h={id:"topLeft",x:60,y:120,width:0,height:0,fixed:!0,fixedWeight:1e6},m={id:"bottomRight",x:o-60,y:l-120,width:0,height:0,fixed:!0,fixedWeight:1e6};d.unshift(m),d.unshift(h);var p=d.indexOf(h),b=d.indexOf(m);f=Object(L.flatten)(d.map(function(e,t){return["root","topLeft","bottomRight"].indexOf(e.id)>-1?[]:[{axis:"x",type:"separation",left:p,right:t,gap:e.width/2},{axis:"y",type:"separation",left:p,right:t,gap:e.height/2},{axis:"x",type:"separation",left:t,right:b,gap:e.width/2},{axis:"y",type:"separation",left:t,right:b,gap:e.height/2}]}))}return Qt({},e,{simNodes:d,nodes:u,links:c,constraints:f,groups:i,cache:a,width:o,height:l});default:return e}};function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nn=function(e){var t=e.data,n=e.width,r=e.height,c=Object(a.useState)(null),i=Object(d.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(!1),s=Object(d.a)(u,2),f=s[0],h=s[1],m=Object(a.useState)(0),p=Object(d.a)(m,2),b=p[0],g=p[1],O=Object(a.useReducer)($t,{nodes:[],simNodes:[],links:[],constraints:[],groups:[],cache:{}}),v=Object(d.a)(O,2),y=v[0],j=y.simNodes,w=y.links,x=y.groups,E=y.constraints,k=v[1];return Object(a.useEffect)(function(){k({type:"DATA_CHANGED",payload:tn({},t,{width:n,height:r})})},[t,n,r]),Object(a.useLayoutEffect)(function(){if(j.length>0){var e=Yt.d3adaptor(Y).jaccardLinkLengths(120,.7).avoidOverlaps(!0).size([n,r]).nodes(j).links(w).constraints(E);return e.start(15,0,0,0,!0,!0),e.on("tick",function(){g(e.alpha())}),h(!0),l(e),function(){e.stop()}}},[j,w,x,E,r,n]),{nodes:j,links:w,groups:x,alpha:b,simulation:o,ready:f}};var rn=function(e){var t=e.source,n=e.target,r=e.type,a=e.debug;return c.a.createElement(It,{x1:t.x,y1:t.y,x2:n.x,y2:n.y,debug:a,variant:(t.selected||n.selected)&&"root"!==t.id?Mt:r})};function an(e){var t=e.id,n=e.label,r=e.width,i=void 0===r?10:r,o=e.height,l=void 0===o?10:o,u=e.radius,s=void 0===u?5:u,d=e.depth,f=e.type,h=e.count,m=(e.isBridge,e.debug),p=e.selected;e.source,e.target,e.isContext;return Object(a.useMemo)(function(){var e=p?f===zt?Ct:_t:f;return c.a.createElement(c.a.Fragment,null,p&&c.a.createElement(Rt,{variant:e,r:s+10}),c.a.createElement(Tt,{variant:e,r:s}),c.a.createElement(qt,{y:0===d?s<40?s+16:32:4,textAnchor:"middle",variant:e,selected:p},n||t),0===d&&c.a.createElement(Gt,{textAnchor:"middle",dominantBaseline:"central",variant:e,selected:p},Q(h)),m&&c.a.createElement("rect",{x:-i/2,y:-l/2,width:i,height:l,fill:"rgba(0, 0, 0, 0.1)"}))},[t,n,i,l,s,d,f,h,m,p])}var cn=function(e){var t=e.id,n=e.label,r=e.x,i=e.y,o=e.depth,l=e.onClick,u=void 0===l?function(e){return e}:l,s=Object(a.useCallback)(function(){return u(t)},[t,u]);return c.a.createElement(Nt,{x:r,y:i,depth:o,onClick:s,debug:e.debug},c.a.createElement(an,e),n&&n.length<t.length&&c.a.createElement("title",null,t))},on=function(e){var t=e.bounds;return Object(a.useMemo)(function(){var e=t.x,n=t.y;return c.a.createElement(Ft,{x:e,y:n,width:t.width(),height:t.height()})},[t])};function ln(){var e=Object(r.a)(["\n  ",";\n"]);return ln=function(){return e},e}var un=Object(s.default)(D.Box)(ln(),Z.d);var sn=function(e){var t=e.query,n=e.className,r=e.width,a=void 0===r?400:r,i=e.height,o=void 0===i?400:i,l=e.simulationHeight,u=void 0===l?400:l,s=e.showLinks,d=void 0===s||s,f=e.explore,h=void 0!==f&&f,m=e.debug,p=void 0!==m&&m,b=e.onSelect,g=Zt(t,h),O=nn({data:g,width:a,height:u}),v=O.nodes,y=O.links,j=O.groups,w=O.ready;return c.a.createElement(un,{className:n,width:a,height:o,bg:"rgba(0,0,0, 0.03)"},w&&c.a.createElement(Bt,null,j.filter(function(e){return!!e.bounds}).map(function(e,t){var n=e.bounds;return c.a.createElement(on,{key:"group-".concat(t),bounds:n})}),!!d&&y.map(function(e){return c.a.createElement(rn,Object.assign({key:"path-".concat(e.source.id,"-").concat(e.target.id)},e,{debug:p}))}),v.map(function(e){return c.a.createElement(cn,Object.assign({key:"node-".concat(e.id)},e,{onClick:b,debug:p}))})))};function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var hn=Object(u.g)(function(e){var t=e.location,n=e.history,r=Object(ot.a)(e,["location","history"]),i=Object(a.useContext)(w).query,o=ht({location:t,history:n});return c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/graph"},function(e){var t=e.location;return t.search?c.a.createElement(u.a,{to:fn({},t,{pathname:"/graph/explore"})}):c.a.createElement(sn,Object.assign({onSelect:o,explore:!1},r))}),c.a.createElement(u.b,{exact:!0,path:"/graph/explore"},c.a.createElement(sn,Object.assign({query:i,onSelect:o,explore:!0},r))))});function mn(){var e=Object(r.a)(["\n  text-transform: uppercase;\n  font-weight: 500;\n  text-decoration: underline !important;\n"]);return mn=function(){return e},e}function pn(){var e=Object(r.a)(["\n  text-transform: uppercase;\n  font-weight: 500;\n"]);return pn=function(){return e},e}function bn(){var e=Object(r.a)(["\n  font-weight: 700;\n"]);return bn=function(){return e},e}function gn(){var e=Object(r.a)([""]);return gn=function(){return e},e}function On(){var e=Object(r.a)(["\n  border-radius: 4px;\n  max-width: 200px;\n  ",";\n"]);return On=function(){return e},e}var vn=Object(s.default)(D.Box).attrs({px:3,py:4,bg:"white"})(On(),re),yn=Object(s.default)(D.Text).attrs({display:"inline-block"})(gn()),jn=Object(s.default)(yn).attrs({fontSize:1,color:"blueDark"})(bn()),wn=Object(s.default)(yn).attrs({fontSize:1,color:"greyDark",children:"Publikationen"})(pn()),xn=Object(s.default)(D.Link).attrs({fontSize:1,color:"blueMediumDark"})(mn()),En=function(e){return"".concat("",'/de/suchen-entdecken/discovery/?tx_find_find[__referrer][@extension]=Find&tx_find_find[__referrer][@vendor]=Subugoe&tx_find_find[__referrer][@controller]=Search&tx_find_find[__referrer][@action]=index&tx_find_find[__referrer][arguments]=YToxOntzOjE6InEiO2E6Nzp7czozOiJhbGwiO3M6MTU6IkRhdGEgUHJvY2Vzc2luZyI7czo3OiJhdXRob3JzIjtzOjA6IiI7czo3OiJkZWZhdWx0IjtzOjA6IiI7czo4OiJmdWxsdGV4dCI7czowOiIiO3M6MTA6InB1Ymxpc2hlcnMiO3M6MDoiIjtzOjg6InN1YmplY3RzIjtzOjA6IiI7czo2OiJ0aXRsZXMiO3M6MDoiIjt9fQ==84ceee3840c75fe70ccbde38d63fe12889b190b6&tx_find_find[__referrer][@request]=a:4:{s:10:"@extension";s:4:"Find";s:11:"@controller";s:6:"Search";s:7:"@action";s:5:"index";s:7:"@vendor";s:7:"Subugoe";}fcac206facd7fc97ccf479c8905fa76ff43930c6&tx_find_find[__trustedProperties]=a:1:{s:1:"q";a:7:{s:7:"default";i:1;s:3:"all";i:1;s:7:"authors";i:1;s:8:"fulltext";i:1;s:10:"publishers";i:1;s:8:"subjects";i:1;s:6:"titles";i:1;}}6c850a55e9c482f4b614787373e30d12a8823c5d&tx_find_find[q][default]=&tx_find_find[q][all]="').concat(e?encodeURIComponent(e):"",'"&tx_find_find[q][authors]=&tx_find_find[q][fulltext]=&tx_find_find[q][publishers]=&tx_find_find[q][subjects]=&tx_find_find[q][titles]=#tx_find')},kn=function(){var e=Object(a.useContext)(w).query,t=function(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),r=n[0],c=n[1],i=J(null,e),o=Object(a.useCallback)(function(e){var t=e.response;c(t.numFound)},[]);return{count:r,isLoading:U(i,o).isLoading}}(e),n=t.count;return t.isLoading?null:c.a.createElement(vn,null,n>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(D.Box,{mb:3},c.a.createElement(jn,{mb:1},Q(n))," ",c.a.createElement(wn,null)),c.a.createElement(xn,{href:En(e)},"anzeigen")):c.a.createElement(D.Text,{fontSize:1,lineHeight:1.5,color:"greyDark"},"Es wurde leider keine Publikation mit dem Suchbegriff gefunden."))};function Sn(){return(Sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Pn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Dn=c.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),Ln=c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),zn=function(e){var t=e.svgRef,n=e.title,r=Pn(e,["svgRef","title"]);return c.a.createElement("svg",Sn({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),c.a.createElement("title",null,n),Dn,Ln)},Cn=c.a.forwardRef(function(e,t){return c.a.createElement(zn,Sn({svgRef:t},e))});n.p;function _n(){return(_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Mn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Bn=c.a.createElement("path",{d:"M15,7.58578644 L16.4142136,9 L13.4137864,11.9997864 L16.4142136,15 L15,16.4142136 L11.9997864,13.4137864 L9,16.4142136 L7.58578644,15 L10.5857864,11.9997864 L7.58578644,9 L9,7.58578644 L11.9997864,10.5857864 L15,7.58578644 Z"}),An=function(e){var t=e.svgRef,n=e.title,r=Mn(e,["svgRef","title"]);return c.a.createElement("svg",_n({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),c.a.createElement("title",null,n),Bn)},Tn=c.a.forwardRef(function(e,t){return c.a.createElement(An,_n({svgRef:t},e))}),Rn=(n.p,Object(s.default)(D.Box).attrs({bg:"ghostWhite"}).withConfig({displayName:"Search__SearchContainer",componentId:"sc-18xh3im-0"})(["display:inline-block;position:relative;overflow:hidden;",";",";"],ae,re)),In=s.default.input.attrs(function(e){e.theme;var t=e.show,n=(e.width,e.height);return{type:"text",color:"blueMediumDark",opacity:t?1:0,width:t?"initial":"".concat(n,"px"),ml:t?n:0,px:2,fontSize:1}}).withConfig({displayName:"Search__Input",componentId:"sc-18xh3im-1"})(["background:transparent;font-weight:700;border:none;transition:all 0.2s ease-in-out;",";",";",";",";",";&:focus{outline-width:0;background:white;}"],Z.a,Z.e,Z.c,Z.g,ne),Nn=Object(s.default)(D.Box).withConfig({displayName:"Search__IconContainer",componentId:"sc-18xh3im-2"})(["z-index:1;display:inline-block;transition:all 0.2s ease-in-out;",";",";",";position:absolute;",";"],ne,te,ee,function(e){return e.invert?ce:{}}),Fn=Object(s.default)(Nn).attrs({bg:"ghostWhite"}).withConfig({displayName:"Search__SearchIconContainer",componentId:"sc-18xh3im-3"})(["&:hover{",";}"],ce),qn=Object(s.default)(Nn).withConfig({displayName:"Search__CloseContainer",componentId:"sc-18xh3im-4"})(["right:0;border-radius:","px;"],function(e){return e.width}),Gn=Object(s.default)(Cn).withConfig({displayName:"Search___StyledSearchSVG",componentId:"sc-18xh3im-5"})(["fill:",";"],function(e){return e.theme.colors.blueMediumDark}),Wn=Object(s.default)(Tn).withConfig({displayName:"Search___StyledClearSVG",componentId:"sc-18xh3im-6"})(["fill:",";:hover{fill:",";}"],function(e){return e.theme.colors.blueLight},function(e){return e.theme.colors.blueMediumDark}),Hn=function(e){var t=e.query,n=e.onChange,r=void 0===n?function(e){return e}:n,i=e.className,o=e.size,l=void 0===o?36:o,u=Object(a.useState)(""),s=Object(d.a)(u,2),f=s[0],h=s[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),b=p[0],g=p[1],O=Object(a.useState)(!1),v=Object(d.a)(O,2),y=v[0],j=v[1],w=Object(a.useState)(!1),x=Object(d.a)(w,2),E=x[0],k=x[1],S=Object(a.useRef)(null),P=Object(a.useCallback)(function(){h(""),j(!1),r("")},[r]);Object(a.useEffect)(function(){var e=!!t;h(t),g(e),j(e)},[t]);var D=Object(a.useCallback)(function(e){var t=e.target.value;t!==f&&(j(!1),h(t)),"Enter"===e.key&&(j(!0),r(t)),"Escape"===e.key&&P()},[r,f,P]),L=Object(a.useCallback)(function(){f||g(!1),k(!1)},[f]),z=Object(a.useCallback)(function(){k(!0)},[]);return c.a.createElement("div",{className:i},c.a.createElement(Rn,null,c.a.createElement(Fn,{"data-testid":"submit",invert:y,width:l,height:l,onClick:function(){b?(j(!0),r(f)):g(!0)},onMouseEnter:function(){g(!0),S.current.focus()}},c.a.createElement(Gn,null)),c.a.createElement(In,{"data-testid":"input",placeholder:"Suchbegriff eingeben",ref:S,size:Math.max(20,f.length),height:l,show:E||b,value:f,onKeyDown:D,onChange:D,onBlur:L,onFocus:z}),y&&b&&c.a.createElement(qn,{width:l,height:l},c.a.createElement(Wn,{"data-testid":"clear",onClick:function(){P(),S.current.focus()}}))),y&&c.a.createElement(kn,null))},Kn=Object(u.g)(function(e){var t=e.history,n=e.location,r=e.match,i=e.className,o=Object(a.useContext)(w).query,l=ht({history:t,location:n,match:r});return c.a.createElement(Hn,{className:i,query:o,onChange:l})}),Vn=n(37),Un="internal_geoLocation_facet",Jn={locations:{type:"terms",field:Un,limit:z.queryLimits[Un],facet:{collection:{type:"terms",field:z.collectionField}}}};function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var Yn=function(e){var t=J(Jn,e),n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],i=r[1];return U(t,Object(a.useCallback)(function(e){var t=e.facets.locations,n=t&&t.buckets||[];i(n.map(function(e){var t=e.val,n=Object(ot.a)(e,["val"]),r=t.split(",").map(function(e){return parseFloat(e)}),a=Object(d.a)(r,2);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n,{lat:a[0],lng:a[1]})}).filter(function(e){var t=e.lat,n=e.lng;return t&&n}))},[])),c};var Xn=function(e){return Object(a.useMemo)(function(){return{type:"FeatureCollection",features:e.map(function(e){var t=e.count,n=e.lng,r=e.lat;return{type:"Feature",properties:{count:t,label:e.collection.buckets.map(function(e){return e.val}).join("-")},geometry:{type:"Point",coordinates:[n,r,0]}}})}},[e])},Qn=z.glyphsDir,$n=["interpolate",["linear"],["sqrt",["get","count"]],0,20,1e3,300],er=["number-format",["get","count"],{"min-fraction-digits":0,"max-fraction-digits":0}],tr=function(e){var t=e.endpoint,n=e.tileSize,r=e.geoFeatures,c=e.theme;return Object(a.useMemo)(function(){return{version:8,sources:{hh:{type:"raster",tiles:[t],attribution:"Freie und Hansestadt Hamburg, Landesbetrieb Geoinformation und Vermessung",tileSize:n},institutions:{type:"geojson",data:r,cluster:!0,clusterMaxZoom:14,clusterRadius:50,clusterProperties:{count:["+",["get","count"]]}}},glyphs:"".concat(Qn,"/glyphs/{fontstack}/{range}.pbf"),layers:[{id:"background",type:"raster",source:"hh"},{id:"clusters",type:"circle",source:"institutions",filter:["==","cluster",!0],paint:{"circle-color":c.colors.blueLight,"circle-opacity":.9,"circle-radius":$n}},{id:"circles",type:"circle",source:"institutions",filter:["!=","cluster",!0],paint:{"circle-color":c.colors.blueDark,"circle-opacity":.9,"circle-radius":$n}},{id:"cluster-counts",type:"symbol",source:"institutions",layout:{"text-field":er,"text-font":["OpenSans800"],"text-size":16},paint:{"text-color":"#ffffff","text-halo-width":1,"text-halo-color":c.colors.blueDark}},{id:"counts",type:"symbol",source:"institutions",filter:["!",["has","point_count"]],layout:{"text-field":er,"text-font":["OpenSans800"],"text-size":16},paint:{"text-color":"#ffffff","text-halo-width":1,"text-halo-color":c.colors.blueDark}},{id:"labels",type:"symbol",source:"institutions",filter:["!=","cluster",!0],layout:{"text-field":"{label}","text-font":["OpenSans800"],"text-size":16,"text-variable-anchor":["top","bottom","left","right"],"text-radial-offset":["+",["/",$n,16],.25],"text-justify":"auto"},paint:{"text-color":c.colors.blueDark,"text-halo-width":2,"text-halo-color":"#ffffff"}}]}},[t,n,r,c])};function nr(){var e=Object(r.a)(["\n  background: black;\n  color: white;\n  display: inline-block;\n  padding: 1rem;\n  width: 300px;\n"]);return nr=function(){return e},e}var rr=s.default.div(nr()),ar=function(e){var t=e.viewport;return c.a.createElement(Vn.a,{redraw:function(e){var n=e.width,r=e.height,a=(e.project,e.unproject,t.latitude),i=t.longitude,o=t.zoom;return c.a.createElement(rr,null,c.a.createElement("div",null,"lat: ",a),c.a.createElement("div",null,"lng: ",i," "),c.a.createElement("div",null,"zoom: ",o),c.a.createElement("div",null,n),c.a.createElement("div",null,r))}})};n(91);function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ir=Object(s.withTheme)(function(e){var t=e.width,n=void 0===t?400:t,r=e.height,i=void 0===r?400:r,o=e.endpoint,l=void 0===o?"/tiles?eID=wms&endpoint=https://geodienste.hamburg.de/HH_WMS_Kombi_DISK_GB&service=WMS&request=GetMap&layers=6,10,18,26,2,14,22&styles=&format=image/jpeg&transparent=false&version=1.1.1&retina=1.5&width=256&height=256&srs=EPSG:3857&bbox={bbox-epsg-3857}":o,u=e.tileSize,s=void 0===u?256:u,h=e.debug,m=e.theme,p=e.zoom,b=Object(a.useContext)(w).query,g=Object(a.useState)({latitude:53.54506755814413,longitude:10.008235012803445,zoom:10,minZoom:10,maxZoom:16}),O=Object(d.a)(g,2),v=O[0],y=O[1];Object(a.useEffect)(function(){p&&p!==v.zoom&&y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},v,{zoom:p}))},[p,v]);var j=Object(a.useCallback)(function(e){y(e)},[]),x=Yn(b),E=Xn(x),k=tr({endpoint:l,tileSize:s,geoFeatures:E,theme:m});return c.a.createElement(Vn.b,Object.assign({},v,{width:n,height:i,mapStyle:k,onViewportChange:j}),h&&c.a.createElement(ar,{viewport:v}))});function or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?or(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):or(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ur(){var e=Object(r.a)(["\n  white-space: nowrap;\n  outline: none;\n  transition: all 0.2s ease-in-out;\n  font-size: ","px;\n  text-transform: uppercase;\n\n  ",".active & {\n    color: white;\n    background: ",";\n  }\n\n  /* stylelint-disable */\n  /* prettier-ignore */\n  ",":not(.active):hover & {\n    background: white;\n  }\n  /* stylelint-enable */\n"]);return ur=function(){return e},e}function sr(){var e=Object(r.a)([""]);return sr=function(){return e},e}var dr=Object(s.default)(l.b)(sr()),fr=Object(s.default)(D.Button).attrs({bg:"ghostWhite",color:"blueMediumDark",px:3})(ur(),function(e){return e.theme.fontSizes[1]},dr,function(e){return e.theme.colors.blueMediumDark},dr),hr=Object(u.g)(function(e){var t=e.location,n=(e.match,e.history,e.className),r=e.relative,a=e.setActive,i=e.to,o=e.py,l=Object(ot.a)(e,["location","match","history","className","relative","setActive","to","py"]);return c.a.createElement(dr,{className:n,to:r?lr({},t,{pathname:i}):i,activeClassName:"active",isActive:function(e,t){return a&&!!e}},c.a.createElement(fr,Object.assign({py:o||12},l)))});function mr(){var e=Object(r.a)(["\n  overflow: hidden;\n  ",";\n  ",";\n"]);return mr=function(){return e},e}var pr=s.default.div(mr(),ae,re),br=function(e){var t=e.label,n=Object(ot.a)(e,["label"]);return c.a.createElement(hr,Object.assign({borderRadius:0,py:10,relative:!0},n),t)},gr=function(e){var t=e.className;return c.a.createElement(pr,{className:t},c.a.createElement(br,{to:"/map",label:"Einrichtungen",setActive:!0}),c.a.createElement(br,{to:"/graph",label:"Kollektionen",setActive:!0}))};function Or(){return(Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var yr=c.a.createElement("path",{d:"M13,18 L13,20 L11,20 L11,18 L13,18 Z M12,4 C14.9160666,4 17,5.73661118 17,9 C17,10.641639 16.2506357,11.734462 14.6585046,13.1275767 C14.547232,13.2249402 14.1791855,13.5424768 14.1600735,13.5590634 C13.9760837,13.7187402 13.8420719,13.8382341 13.7209782,13.9517594 C13.1988697,14.4412361 13,14.7544559 13,15 L13,15 L13,16 L11,16 L11,15 C11,14.0566552 11.4634396,13.3267378 12.3530959,12.492685 C12.496312,12.35842 12.6475274,12.2235862 12.8491858,12.0485755 C12.8729659,12.0279378 13.2364981,11.7142959 13.3414954,11.6224233 C14.5350786,10.578038 15,9.90002763 15,9 C15,6.93005548 13.8839334,6 12,6 C10.1160666,6 9,6.93005548 9,9 L9,9 L9,10 L7,10 L7,9 C7,5.73661118 9.08393342,4 12,4 Z"}),jr=function(e){var t=e.svgRef,n=e.title,r=vr(e,["svgRef","title"]);return c.a.createElement("svg",Or({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),c.a.createElement("title",null,n),yr)},wr=c.a.forwardRef(function(e,t){return c.a.createElement(jr,Or({svgRef:t},e))});n.p;function xr(){return(xr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Er(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var kr=c.a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),Sr=c.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),Pr=function(e){var t=e.svgRef,n=e.title,r=Er(e,["svgRef","title"]);return c.a.createElement("svg",xr({width:24,height:24,viewBox:"0 0 24 24",ref:t},r),c.a.createElement("title",null,n),kr,Sr)},Dr=c.a.forwardRef(function(e,t){return c.a.createElement(Pr,xr({svgRef:t},e))});n.p;function Lr(){return(Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function zr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Cr=c.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 -3)"},c.a.createElement("circle",{cx:8,cy:11,r:8,fill:"#92CDDA",opacity:.66}),c.a.createElement("text",{fill:"#595959",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},c.a.createElement("tspan",{x:31,y:15},"Kollektion")),c.a.createElement("circle",{cx:8,cy:40,r:8,fill:"#E6E6E6",opacity:.66}),c.a.createElement("text",{fill:"#595959",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},c.a.createElement("tspan",{x:31,y:44},"Thema")),c.a.createElement("text",{fill:"#595959",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},c.a.createElement("tspan",{x:31,y:102},"Zuordnung Kollektion\u2013Thema")),c.a.createElement("path",{stroke:"#9B9B9B",strokeDasharray:"4 5",strokeLinecap:"square",strokeWidth:2,d:"M2,98.5 L14,98.5",opacity:.5}),c.a.createElement("text",{fill:"#595959",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},c.a.createElement("tspan",{x:31,y:73},"Verwandtes Thema")),c.a.createElement("path",{stroke:"#E6E6E6",strokeLinecap:"square",strokeWidth:2,d:"M2,69.5 L14,69.5"}),c.a.createElement("text",{fill:"#595959",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},c.a.createElement("tspan",{x:31,y:131},"mit Auswahl verwandt")),c.a.createElement("path",{stroke:"#92CDDA",strokeLinecap:"square",strokeWidth:2,d:"M2,127 L14,127"})),_r=function(e){var t=e.svgRef,n=e.title,r=zr(e,["svgRef","title"]);return c.a.createElement("svg",Lr({width:229,height:130,viewBox:"0 0 229 130",ref:t},r),c.a.createElement("title",null,n),Cr)},Mr=c.a.forwardRef(function(e,t){return c.a.createElement(_r,Lr({svgRef:t},e))});n.p;function Br(){return(Br=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ar(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Tr=c.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 -3)"},c.a.createElement("circle",{cx:8,cy:11,r:8,fill:"#326774",opacity:.66}),c.a.createElement("text",{fill:"#595959",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},c.a.createElement("tspan",{x:23,y:15},"Einrichtung")),c.a.createElement("circle",{cx:8,cy:40,r:8,fill:"#92CDDA",opacity:.66}),c.a.createElement("text",{fill:"#595959",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},c.a.createElement("tspan",{x:23,y:44},"Cluster"))),Rr=function(e){var t=e.svgRef,n=e.title,r=Ar(e,["svgRef","title"]);return c.a.createElement("svg",Br({width:100,height:45,viewBox:"0 0 100 45",ref:t},r),c.a.createElement("title",null,n),Tr)},Ir=c.a.forwardRef(function(e,t){return c.a.createElement(Rr,Br({svgRef:t},e))});n.p;function Nr(){var e=Object(r.a)(["\n  ",";\n"]);return Nr=function(){return e},e}function Fr(){var e=Object(r.a)(["\n  ",";\n"]);return Fr=function(){return e},e}function qr(){var e=Object(r.a)(["\n  border-radius: 40px;\n  ",";\n\n  :hover {\n    ",";\n  }\n"]);return qr=function(){return e},e}function Gr(){var e=Object(r.a)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n\n  :hover svg {\n    fill: ",";\n  }\n"]);return Gr=function(){return e},e}function Wr(){var e=Object(r.a)(["\n  transition: all 0.2s ease-in-out;\n  ",";\n  ",";\n  ",";\n"]);return Wr=function(){return e},e}function Hr(){var e=Object(r.a)(["\n  /* transition: border-radius 100ms ease-in-out; */\n  /* border-radius: ","px; */\n  position: absolute;\n  z-index: 1;\n  bottom: 0;\n"]);return Hr=function(){return e},e}var Kr=Object(s.default)(D.Box).attrs(function(e){return{fontSize:1,bg:e.collapsed?"transparent":"rgba(255, 255, 255, 0.95)",ml:4,mb:5}})(Hr(),function(e){return e.collapsed?48:0}),Vr=Object(s.default)(D.Box).attrs({p:12,width:40,height:40})(Wr(),ee,te,ne),Ur=Object(s.default)(Vr)(Gr(),function(e){return e.theme.colors.blueMediumLight}),Jr=Object(s.default)(Vr).attrs({bg:"ghostWhite"})(qr(),re,ce),Zr=Object(s.default)(Dr)(Fr(),$),Yr=Object(s.default)(wr)(Nr(),$),Xr=function(e){var t=e.children;return c.a.createElement(D.Heading,{fontSize:3,color:"blueDark",mb:4},t)},Qr=function(e){return c.a.createElement(D.Text,Object.assign({lineHeight:1.5,color:"greyDark",width:330},e))},$r=function(e){var t=e.path,n=e.show,r=e.actionCreator,i=e.title,o=e.children,l=Object(a.useContext)(x),s=Object(a.useCallback)(function(){return l(r())},[r,l]);return c.a.createElement(u.b,{exact:!0,path:t,render:function(){return c.a.createElement(Kr,{collapsed:!n,p:n?4:0},n?c.a.createElement(Ur,{"data-testid":"toggle",onClick:s},c.a.createElement(Zr,{fill:"greyDark"})):c.a.createElement(Jr,{"data-testid":"toggle",onClick:s},c.a.createElement(Yr,{fill:"blueMediumDark"})),n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Xr,null,i),o))}})},ea=function(e){e.width,e.height;var t=Object(a.useContext)(w),n=t.showMapLegend,r=t.showGraphLegend,i=t.showGraphExploreLegend;return c.a.createElement(c.a.Fragment,null,c.a.createElement($r,{path:"/map",show:n,actionCreator:g,title:"Einrichtungen"},c.a.createElement(Qr,{mb:4},"Einrichtungen stellen Hamburg Open Science Daten \xfcber ihre wissenschaftlichen Publikationen und Forschungsdaten zur Verf\xfcgung. Die Karte zeigt die Standorte und die Anzahl der zum Suchbegriff gefundenen Publikationen."),c.a.createElement(Ir,null)),c.a.createElement($r,{path:"/graph",show:r,actionCreator:O,title:"Kollektionen"},c.a.createElement(Qr,null,"Kollektionen sind Daten-Sammlungen von Publikationen. Mehrere Kollektionen k\xf6nnen zu einer Einrichtung geh\xf6ren. Hamburg Open Science werden Daten aus verschiedenen Speicher-Systemen zur Verf\xfcgung gestellt. Dargestellt wird die Anzahl der in den Kollektionen verzeichneten Publikationen.")),c.a.createElement($r,{path:"/graph/explore",show:i,actionCreator:v,title:"Legende"},c.a.createElement(Mr,null)))};function ta(){var e=Object(r.a)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  margin: ",";\n"]);return ta=function(){return e},e}function na(){var e=Object(r.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: ",";\n"]);return na=function(){return e},e}function ra(){var e=Object(r.a)(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  margin: ",";\n  ",";\n"]);return ra=function(){return e},e}function aa(){var e=Object(r.a)(["\n  position: relative;\n"]);return aa=function(){return e},e}var ca=s.default.div(aa()),ia=Object(s.default)(hr)(ra(),function(e){var t=e.theme.space;return"".concat(t[5],"px ").concat(t[4],"px")},re),oa=Object(s.default)(Kn)(na(),function(e){var t=e.theme.space;return"".concat(t[5],"px ").concat(t[4],"px")}),la=Object(s.default)(gr)(ta(),function(e){var t=e.theme.space;return"".concat(t[5],"px ").concat(t[4],"px")}),ua=function(e){var t=e.width,n=e.height,r=e.targetHeight;return Object(a.useMemo)(function(){return c.a.createElement(ca,null,c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"/map",render:function(){return c.a.createElement(ir,{width:t,height:n})}}),c.a.createElement(u.b,{path:"/graph",render:function(){return c.a.createElement(ca,null,c.a.createElement(hn,{width:t,height:n,simulationHeight:r}),c.a.createElement(u.d,null,c.a.createElement(u.b,{exact:!0,path:"/graph"},c.a.createElement(ia,{to:"/graph/explore"},"Themen erkunden")),c.a.createElement(u.b,{exact:!0,path:"/graph/explore"},c.a.createElement(ia,{to:"/graph"},"zur \xdcbersicht"))))}})),c.a.createElement(ea,null),c.a.createElement(oa,null),c.a.createElement(la,null))},[t,n,r])},sa=function(){var e=Object(a.useCallback)(function(e){var t=e.width,n=e.height,r=e.targetHeight;return c.a.createElement(ua,{width:t,height:n,targetHeight:r})},[]);return c.a.createElement(u.b,{render:function(t){var n=t.match,r=Object(u.f)(n.path,{path:"*/explore"});return c.a.createElement(it,{expand:r,renderHero:e,renderContent:function(){return c.a.createElement(nt,null)}})}})},da=function(e){var t=e.query,n=Object(a.useReducer)(k,E),r=Object(d.a)(n,2),i=r[0],o=r[1];return Object(a.useEffect)(function(){o(function(e){var t=e?e.replace(/<.*>/gim,"").trim():e;return{type:h,payload:t}}(t))},[t]),c.a.createElement(w.Provider,{value:i},c.a.createElement(x.Provider,{value:o},c.a.createElement(sa,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fa=n(67);function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ma={ghostWhite:"#F8FBFB",greyLight:"#E6E6E6",grey:"#9B9B9B",greyDark:"#595959",blueLight:"#92CDDA",blueMediumLight:"#77AAB5",blueMediumDark:"#438B9E",blueDark:"#326774",blueLightGradientOffset:"#6BBBCD",blueDarkGradientOffset:"#61A0AC"},pa=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(n,!0).forEach(function(t){Object(f.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},ma,{blueLighter:Object(fa.a)(.1,ma.blueLight)}),ba={breakpoints:[360,768,1024,1366,1880],fontSizes:[12,14,16,21,27],fontFamily:"Open Sans, sans-serif",colors:pa,shadows:{normal:"0 2px 4px 1px rgba(50, 103, 116, 0.1)"},chartColors:[pa.blueLight,pa.blueDark],space:[0,4,8,16,24,32,48,64,128,256]};n(92);function ga(){var e=Object(r.a)(["\n  box-sizing: border-box;\n  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI',\n    'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n    'Helvetica Neue', sans-serif;\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n    font-family: inherit;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"]);return ga=function(){return e},e}var Oa=s.default.div(ga());o.a.render(c.a.createElement(s.ThemeProvider,{theme:ba},c.a.createElement(l.a,null,c.a.createElement(Oa,null,c.a.createElement(u.d,null,c.a.createElement(u.a,{exact:!0,from:"/",to:{pathname:"/map"}}),c.a.createElement(u.b,{exact:!0,path:["/map","/graph","/graph/explore"],render:function(e){var t=e.location,n=new URLSearchParams(t.search).get("q");return c.a.createElement(da,{query:n})}}),c.a.createElement(u.b,null,"Seite konnte nicht gefunden werden."))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[70,1,2]]]);
//# sourceMappingURL=main.378a8864.chunk.js.map