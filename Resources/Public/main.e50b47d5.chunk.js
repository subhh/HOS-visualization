(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e){e.exports={Article:"Artikel",Dissertation:"Dissertation",Book:"Buch","Book Part":"Buch (Auszug)",Thesis:"Thesis",Digital:"Digital","Working Paper":"Diskussionspapier","Technical Report":"Technischer Bericht","Conference Object":"Konferenzobjekt",Other:"Andere","Research Paper":"Wissenschaftliche Publikation","Proceedings Part":"Tagungsband (Auszug)"}},54:function(e){e.exports=[{name:"Afar-Sprache",code:"aa"},{name:"Abchasisch",code:"ab"},{name:"Awestisch",code:"ae"},{name:"Afrikaans",code:"af"},{name:"Akan-Sprache",code:"ak"},{name:"Amharisch",code:"am"},{name:"Aragonesisch",code:"an"},{name:"Arabisch",code:"ar"},{name:"Assamesisch",code:"as"},{name:"Awarisch",code:"av"},{name:"Aymara-Sprache",code:"ay"},{name:"Aserbeidschanisch",code:"az"},{name:"Baschkirisch",code:"ba"},{name:"Wei\xdfrussisch",code:"be"},{name:"Bulgarisch",code:"bg"},{name:"Bihari",code:"bh"},{name:"Bislama; Beach-la-mar",code:"bi"},{name:"Bambara-Sprache",code:"bm"},{name:"Bengali",code:"bn"},{name:"Tibetisch",code:"bo"},{name:"Bretonisch",code:"br"},{name:"Bosnisch",code:"bs"},{name:"Katalanisch",code:"ca"},{name:"Katalanisch",code:"ca"},{name:"Tschetschenisch",code:"ce"},{name:"Chamorro-Sprache",code:"ch"},{name:"Korsisch",code:"co"},{name:"Cree-Sprache",code:"cr"},{name:"Tschechisch",code:"cs"},{name:"Kirchenslawisch",code:"cu"},{name:"Kirchenslawisch",code:"cu"},{name:"Tschuwaschisch",code:"cv"},{name:"Kymrisch",code:"cy"},{name:"D\xe4nisch",code:"da"},{name:"Deutsch",code:"de"},{name:"Maledivisch",code:"dv"},{name:"Dzongkha",code:"dz"},{name:"Ewe-Sprache",code:"ee"},{name:"Griechisch",code:"el"},{name:"Englisch",code:"en"},{name:"Esperanto",code:"eo"},{name:"Spanisch",code:"es"},{name:"Spanisch",code:"es"},{name:"Estnisch",code:"et"},{name:"Baskisch",code:"eu"},{name:"Persisch",code:"fa"},{name:"Ful",code:"ff"},{name:"Finnisch",code:"fi"},{name:"Fidschi-Sprache",code:"fj"},{name:"F\xe4r\xf6isch",code:"fo"},{name:"Franz\xf6sisch",code:"fr"},{name:"Friesisch",code:"fy"},{name:"Irisch",code:"ga"},{name:"G\xe4lisch-Schottisch",code:"gd"},{name:"G\xe4lisch-Schottisch",code:"gd"},{name:"Galicisch",code:"gl"},{name:"Guarani-Sprache",code:"gn"},{name:"Gujarati-Sprache",code:"gu"},{name:"Manxs",code:"gv"},{name:"Haussa-Sprache",code:"ha"},{name:"Hebr\xe4isch",code:"he"},{name:"Hindi",code:"hi"},{name:"Hiri-Motu",code:"ho"},{name:"Kroatisch",code:"hr"},{name:"Haitien; Frankokreolisch",code:"ht"},{name:"Ungarisch",code:"hu"},{name:"Armenisch",code:"hy"},{name:"Herero-Sprache",code:"hz"},{name:"Interlingua",code:"ia"},{name:"Bahasa Indonesia",code:"id"},{name:"Interlingue",code:"ie"},{name:"Ibo-Sprache",code:"ig"},{name:"Nosu",code:"ii"},{name:"Inupik",code:"ik"},{name:"Sinohoan",code:"io"},{name:"Isl\xe4ndisch",code:"is"},{name:"Italienisch",code:"it"},{name:"Inuktitut",code:"iu"},{name:"Japanisch",code:"ja"},{name:"Javanisch",code:"jv"},{name:"Georgisch",code:"ka"},{name:"Kongo-Sprache",code:"kg"},{name:"Kikuyu-Sprache",code:"ki"},{name:"Kikuyu-Sprache",code:"ki"},{name:"Kwanyama-Sprache",code:"kj"},{name:"Kwanyama-Sprache",code:"kj"},{name:"Kasachisch",code:"kk"},{name:"Gr\xf6nl\xe4ndisch",code:"kl"},{name:"Gr\xf6nl\xe4ndisch",code:"kl"},{name:"Kambodschanisch",code:"km"},{name:"Kannada",code:"kn"},{name:"Koreanisch",code:"ko"},{name:"Kanuri-Sprache",code:"kr"},{name:"Kaschmiri",code:"ks"},{name:"Kurdisch",code:"ku"},{name:"Komi-Sprache",code:"kv"},{name:"Kornisch",code:"kw"},{name:"Kirgisisch",code:"ky"},{name:"Latein",code:"la"},{name:"Luxemburgisch",code:"lb"},{name:"Luxemburgisch",code:"lb"},{name:"Ganda-Sprache",code:"lg"},{name:"Limburgisch",code:"li"},{name:"Lingala",code:"ln"},{name:"Laotisch",code:"lo"},{name:"Litauisch",code:"lt"},{name:"Luba-Katanga-Sprache",code:"lu"},{name:"Lettisch",code:"lv"},{name:"Malagassi-Sprache",code:"mg"},{name:"Marschallesisch",code:"mh"},{name:"Maori-Sprache",code:"mi"},{name:"Makedonisch",code:"mk"},{name:"Malayalam",code:"ml"},{name:"Mongolisch",code:"mn"},{name:"Moldauisch",code:"mo"},{name:"Marathi",code:"mr"},{name:"Malaiisch",code:"ms"},{name:"Maltesisch",code:"mt"},{name:"Burmesisch; Birmanisch",code:"my"},{name:"Nauruanisch",code:"na"},{name:"Bokm\xe5l",code:"nb"},{name:"Bokm\xe5l",code:"nb"},{name:"Ndebele-Sprache",code:"nd"},{name:"Ndebele-Sprache",code:"nd"},{name:"Nepali",code:"ne"},{name:"Ndonga",code:"ng"},{name:"Niederl\xe4ndisch",code:"nl"},{name:"Niederl\xe4ndisch",code:"nl"},{name:"Nynorsk",code:"nn"},{name:"Nynorsk",code:"nn"},{name:"Norwegisch",code:"no"},{name:"Ndbele-Sprache",code:"nr"},{name:"Ndebele-Sprache",code:"nr"},{name:"Navajo-Sprache",code:"nv"},{name:"Nyanja-Sprache",code:"ny"},{name:"Nyanja-Sprache",code:"ny"},{name:"Nyanja-Sprache",code:"ny"},{name:"Okzitanisch",code:"oc"},{name:"Okzitanisch",code:"oc"},{name:"Ojibwa-Sprache",code:"oj"},{name:"Galla-Sprache",code:"om"},{name:"Oriya-Sprache",code:"or"},{name:"Ossetisch",code:"os"},{name:"Pandschabi-Sprache",code:"pa"},{name:"Pandschabi-Sprache",code:"pa"},{name:"Pali",code:"pi"},{name:"Polnisch",code:"pl"},{name:"Paschtu",code:"ps"},{name:"Portugiesisch",code:"pt"},{name:"Quechua-Sprache",code:"qu"},{name:"R\xe4toromanisch; Rumantsch",code:"rm"},{name:"Rundi-Sprache",code:"rn"},{name:"Rum\xe4nisch",code:"ro"},{name:"Russisch",code:"ru"},{name:"Rwanda-Sprache",code:"rw"},{name:"Sanskrit",code:"sa"},{name:"Sardisch",code:"sc"},{name:"Sindhi-Sprache",code:"sd"},{name:"Nordsaamisch",code:"se"},{name:"Sango-Sprache",code:"sg"},{name:"Singhalesisch",code:"si"},{name:"Slowakisch",code:"sk"},{name:"Slowenisch",code:"sl"},{name:"Samoanisch",code:"sm"},{name:"Schona-Sprache",code:"sn"},{name:"Somali",code:"so"},{name:"Albanisch",code:"sq"},{name:"Serbisch",code:"sr"},{name:"Swasi-Sprache",code:"ss"},{name:"S\xfcd-Sotho-Sprache",code:"st"},{name:"Sundanesisch",code:"su"},{name:"Schwedisch",code:"sv"},{name:"Swahili",code:"sw"},{name:"Tamil",code:"ta"},{name:"Telugu-Sprache",code:"te"},{name:"Tadschikisch",code:"tg"},{name:"Thail\xe4ndisch",code:"th"},{name:"Tigrinja-Sprache",code:"ti"},{name:"Turkmenisch",code:"tk"},{name:"Tagalog",code:"tl"},{name:"Tswana-Sprache",code:"tn"},{name:"Tongaisch",code:"to"},{name:"T\xfcrkisch",code:"tr"},{name:"Tsonga-Sprache",code:"ts"},{name:"Tatarisch",code:"tt"},{name:"Twi-Sprache",code:"tw"},{name:"Tahitisch",code:"ty"},{name:"Uigurisch",code:"ug"},{name:"Uigurisch",code:"ug"},{name:"Ukrainisch",code:"uk"},{name:"Urdu",code:"ur"},{name:"Usbekisch",code:"uz"},{name:"Venda-Sprache",code:"ve"},{name:"Vietnamesisch",code:"vi"},{name:"Volap\xfck",code:"vo"},{name:"Wallonisch",code:"wa"},{name:"Wolof-Sprache",code:"wo"},{name:"Xhosa-Sprache",code:"xh"},{name:"Jiddisch",code:"yi"},{name:"Yoruba-Sprache",code:"yo"},{name:"Zhuang",code:"za"},{name:"Zhuang",code:"za"},{name:"Chinesisch",code:"zh"},{name:"Zulu-Sprache",code:"zu"}]},64:function(e,t,n){e.exports=n(86)},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),i=n.n(c),o=n(10),l=n(7),u=n(23),s=n(22),d=n(3),h=n(11),f="UPDATE_QUERY",m="TOGGLE_MAP_LEGEND",p="TOGGLE_GRAPH_LEGEND",b="TOGGLE_MAGRAPH_EXPLOREEGEND";function g(){return{type:m}}function v(){return{type:p}}function O(){return{type:b}}var y=Object(a.createContext)(),j=Object(a.createContext)(),E={query:"",showMapLegend:!0,showGraphLegend:!0,showGraphExploreLegend:!0};function x(e,t){var n=t.type,a=t.payload;switch(n){case f:return Object(h.a)({},e,{query:a||""});case m:return Object(h.a)({},e,{showMapLegend:!e.showMapLegend});case p:return Object(h.a)({},e,{showGraphLegend:!e.showGraphLegend});case b:return Object(h.a)({},e,{showGraphExploreLegend:!e.showGraphExploreLegend});default:return e}}var k,S,w=n(12),z=n(9),_=n(8),L="publicationYear",D=(k={},Object(_.a)(k,"rightsOA",{type:"terms",field:"rightsOA"}),Object(_.a)(k,"language",{type:"terms",field:"language"}),Object(_.a)(k,L,{type:"terms",field:L,limit:25}),Object(_.a)(k,"resourceType",{type:"terms",field:"resourceType"}),Object(_.a)(k,"unbekannt",{type:"query",q:"-subject:[* TO *]"}),Object(_.a)(k,"bekannt",{type:"query",q:"subject:[* TO *]"}),k),C=n(53),T=n(54),B=Object(z.mapValues)(Object(z.keyBy)(T,"code"),function(e){return e.name}),A=(S={},Object(_.a)(S,"language",B),Object(_.a)(S,"resourceType",C),Object(_.a)(S,"rightsOA",{"zugriffsbeschr\xe4nkt":"Closed/unbekannt"}),S),P=function(e){return e?Object(z.mapValues)(Object(z.keyBy)(e.buckets,"val"),function(e){return e.count}):null},M=function(e,t){var n=t.type,a=t.payload;switch(n){case"APPLY_MAPPING":var r=a.state;return Object(h.a)({},e,Object(z.mapValues)(r,function(t,n,a){var r=A[n];return r?function(e){var t=e.value,n=e.prev,a=e.map,r=Object(z.mapKeys)(t,function(e,t){return a[t]||t}),c=Object(z.mapValues)(n,function(e){return 0});return Object(z.assign)(c,r)}({prev:e[n],map:r,value:t}):t}));default:return e}},N=function(e,t){var n=t.type,a=t.payload;switch(t.type){case"rightsOA":return Object(h.a)({},e,Object(_.a)({},n,P(Object(h.a)({},a,{buckets:a.buckets.slice().reverse()}))));case"language":case"resourceType":return Object(h.a)({},e,Object(_.a)({},n,P(a)));case L:return Object(h.a)({},e,Object(_.a)({},L,function(e){var t=e.buckets,n=e.size,a=Object(z.fromPairs)(t.map(function(e){return[e.val,e.count]})),r=(new Date).getFullYear(),c=r-n;return Object(z.fromPairs)(Array.from({length:r-c},function(e,t){return t+c+1}).map(function(e){return[e,a[e]||0]}))}(Object(h.a)({},a,{size:25}))));case"bekannt":case"unbekannt":return Object(h.a)({},e,Object(_.a)({},"subject",Object(h.a)({},e.subject,Object(_.a)({},n,a.count))));default:return e}},R=n(19),I=Object(R.formatLocale)({decimal:",",thousands:".",grouping:[3],currency:["\xa0\u20ac",""]}),q=function(e){return I.format(",")(e)},F=function(e,t){return fetch(e).then(function(e){return e.json()}).then(function(e){return t(e)}).catch(function(e){console.log(e.message)})},H=function(e,t){var n=e&&"*"!==e?'"'.concat(encodeURIComponent(e),'"'):"*";return"/solrQuery?q=".concat(n,"&rows=0").concat(t?"&json.facet="+JSON.stringify(t):"")},G=function(e){var t=e.theme,n=e.fill;return{fill:"".concat(t.colors[n])}},K=function(e){var t=e.x,n=void 0===t?0:t,a=e.y,r=void 0===a?0:a;return{transform:"translate(".concat(n,"px,").concat(r,"px)")}},W=function(e,t){var n=Object(a.useState)(),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Object(a.useState)(!0),u=Object(o.a)(l,2),s=u[0],d=u[1];return Object(a.useEffect)(function(){d(!0)},[e]),Object(a.useEffect)(function(){var n=!0;return F(e,function(e){n&&(d(!1),i(e),t&&t(e))}),function(){n=!1}},[e,t,s]),{result:c,isLoading:s}},U=n(13);function V(){var e=Object(l.a)(["\n  position: absolute;\n  width: 1px;\n  top: ","px;\n  ",";\n"]);return V=function(){return e},e}function Y(){var e=Object(l.a)(["\n  display: inline-block;\n  position: absolute;\n  transform: translate(\n    ",",\n    -50%\n  );\n  top: ","px;\n"]);return Y=function(){return e},e}function J(){var e=Object(l.a)(["\n  position: absolute;\n  background-image: ",";\n  border-radius: 2px;\n  ",";\n  ",";\n"]);return J=function(){return e},e}function Z(){var e=Object(l.a)(["\n  height: 1px;\n"]);return Z=function(){return e},e}function X(){var e=Object(l.a)(["\n  position: absolute;\n  ",";\n"]);return X=function(){return e},e}function Q(){var e=Object(l.a)(["\n  position: relative;\n  flex: 0 0 auto;\n  ",";\n"]);return Q=function(){return e},e}function $(){var e=Object(l.a)(["\n  border-right: 1px solid white;\n  border-bottom: 1px solid white;\n  ",";\n\n  &:nth-last-child(-n + 10) {\n    border-bottom: none;\n  }\n\n  &:nth-child(10n) {\n    border-right: none;\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(l.a)(["\n  display: grid;\n  grid-template-rows: repeat(",", 1rem);\n  grid-template-columns: repeat(",", 1rem);\n"]);return ee=function(){return e},e}function te(){var e=Object(l.a)(["\n  width: 100px;\n"]);return te=function(){return e},e}function ne(){var e=Object(l.a)(["\n  width: 3.5rem;\n  text-align: right;\n  padding: 0;\n  padding-right: 1rem;\n  font-weight: 500;\n  font-size: ","px;\n  ",";\n"]);return ne=function(){return e},e}function ae(){var e=Object(l.a)(["\n  white-space: nowrap;\n  max-width: 300px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 2rem;\n  font-weight: 500;\n  font-size: ","px;\n  ",";\n"]);return ae=function(){return e},e}function re(){var e=Object(l.a)(["\n  height: 0.5rem;\n"]);return re=function(){return e},e}function ce(){var e=Object(l.a)(["\n  ",";\n"]);return ce=function(){return e},e}function ie(){var e=Object(l.a)(["\n  flex: 0 0 auto;\n"]);return ie=function(){return e},e}function oe(){var e=Object(l.a)([""]);return oe=function(){return e},e}function le(){var e=Object(l.a)(["\n  /* TODO: make box shadow themeable */\n  box-shadow: 0 2px 4px 1px rgba(50, 103, 116, 0.1);\n  border-radius: 4px;\n"]);return le=function(){return e},e}var ue=Object(d.default)(w.Box).attrs({px:24,pt:24,pb:48,mr:4,mb:4,bg:"#FCFDFD"})(le()),se=Object(d.default)(w.Heading).attrs({fontSize:1,fontWeight:500,color:"blueDark",mb:24})(oe()),de=d.default.table(ie()),he=d.default.tr(ce(),U.d),fe=Object(d.default)(w.Box)(re()),me=d.default.td(ae(),function(e){return e.theme.fontSizes[0]},U.a),pe=d.default.td(ne(),function(e){return e.theme.fontSizes[0]},U.a),be=d.default.td(te()),ge=Object(d.default)(w.Box)(ee(),function(e){return e.size},function(e){return e.size}),ve=d.default.div($(),U.a),Oe=Object(d.default)(w.Box)(Q(),U.d),ye=Object(d.default)(w.Box)(X(),K),je=Object(d.default)(w.Box)(Z()),Ee=Object(d.default)(w.Box)(J(),function(e){var t=e.theme,n=e.highlight,a=t.colors,r=a.blueLight,c=a.blueDark;return n?"linear-gradient(58deg, #6BBBCD 0%, ".concat(r," 100%);"):"linear-gradient(58deg, ".concat(c," 0%, #61A0AC 100%)")},K,U.d),xe=Object(d.default)(w.Text).attrs({fontSize:0,width:40,color:"grey"})(Y(),function(e){return"center"===e.textAlign?"-50%":0},function(e){return e.y}),ke=Object(d.default)(w.Box).attrs({bg:"grey",height:6})(V(),function(e){return e.y},U.d);function Se(){var e=Object(l.a)(["\n  color: ",";\n  font-weight: 500;\n  ",";\n  ",";\n\n  &:before {\n    content: ' ';\n    display: inline-block;\n    margin-right: 8px;\n    width: 8px;\n    height: 8px;\n    border-radius: 2px;\n    ",";\n  }\n"]);return Se=function(){return e},e}function we(){var e=Object(l.a)(["\n  display: flex;\n  /* flex-direction: ","; */\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  ",";\n"]);return we=function(){return e},e}var ze=d.default.ul(we(),function(e){return e.direction},U.b),_e=d.default.li(Se(),function(e){return e.theme.colors.grey},U.e,U.c,U.a),Le=Object(d.withTheme)(function(e){var t=e.data,n=e.theme,a=e.reverse,c=e.direction,i=void 0===c?"column":c,o=a?n.chartColors.slice().reverse():n.chartColors;return r.a.createElement(ze,{flexDirection:i},t.map(function(e,t){return r.a.createElement(_e,{key:"entry-".concat(e),bg:o[t],mb:1,mr:3,fontSize:0},e)}))});function De(){var e=Object(l.a)(["\n  border-radius: 4px;\n  position: relative;\n  overflow: hidden;\n\n  @supports (mix-blend-mode: soft-light) {\n    &:before {\n      content: '\xa0';\n      position: absolute;\n      opacity: 0.3;\n      background-image: linear-gradient(183deg, #ffffff 0%, #000000 100%);\n      mix-blend-mode: soft-light;\n      width: 100%;\n      height: 100%;\n    }\n  }\n"]);return De=function(){return e},e}var Ce=Object(d.default)(w.Box)(De()),Te=Object(d.withTheme)(function(e){var t=e.size,n=void 0===t?10:t,c=e.data,i=e.title,l=void 0===i?"Title":i,u=e.theme,s=e.flipColors,d=e.reverse,h=s?u.chartColors.slice().reverse():u.chartColors,f=Object(z.sum)(Object(z.values)(c)),m=Object(z.orderBy)(Object(z.entries)(Object(z.mapValues)(c,function(e){return Math.round(e/f*(n*n))||0})),function(e){return e[0]},[d?"desc":"asc"]);return r.a.createElement(ue,null,r.a.createElement(se,null,l),r.a.createElement(Ce,{mb:24},r.a.createElement(ge,{size:n},m.map(function(e,t){var n=Object(o.a)(e,2),c=(n[0],n[1]);return r.a.createElement(a.Fragment,{key:"group-".concat(t)},Array.apply(null,Array(c)).map(function(e,n){return r.a.createElement(ve,{key:"cell-".concat(t,"-").concat(n),bg:h[t]})}))}))),r.a.createElement(Le,{data:m.map(function(e){var t=Object(o.a)(e,2),n=t[0];return t[1],n}),reverse:s}))}),Be=function(e){var t=e.title,n=void 0===t?"":t,a=e.data,c=e.labels,i=Object(z.values)(a),l=Object(R.scaleLinear)().domain([0,Object(z.max)(i)]).range([1,100]);return r.a.createElement(ue,null,r.a.createElement(se,null,n),r.a.createElement(de,null,r.a.createElement("tbody",null,Object(z.entries)(a).map(function(e,t){var n=Object(o.a)(e,2),a=n[0],i=n[1],u=c&&c[a]?c[a]:a;return r.a.createElement(he,{key:"row-".concat(t),height:3},r.a.createElement(me,{title:u,color:"greyDark"},u),r.a.createElement(pe,{color:"grey"},q(i)),r.a.createElement(be,null,r.a.createElement(fe,{bg:"blueLight",width:"".concat(l(i),"%")})))}))))},Ae=function(e){var t=e.value,n=e.width,a=e.label,c=e.padding;return r.a.createElement(ye,{y:t},r.a.createElement(je,{ml:c,width:n,bg:"greyLight"}),r.a.createElement(xe,{textAlign:"right"},a))},Pe=function(e){var t=e.data,n=e.legend,a=e.height,c=void 0===a?250:a,i=e.pt,l=void 0===i?0:i,u=e.pb,s=void 0===u?32:u,d=e.pl,h=void 0===d?48:d,f=e.pr,m=void 0===f?32:f,p=e.bw,b=void 0===p?8:p,g=e.bs,v=void 0===g?4:g,O=e.labelFreq,y=void 0===O?5:O,j=e.title,E=void 0===j?"title":j,x=Object(z.values)(t),k=Object(z.entries)(t),S=x.length,w=Object(z.max)(x)||0,_=Object(R.scaleLinear)().domain([0,w]).range([c-s,l]),L=_(0),D=S*b+v*(S-1)+h+m;return r.a.createElement(ue,null,r.a.createElement(se,null,E),r.a.createElement(Oe,{width:D,height:c,mb:24},_.ticks(4).map(function(e){return r.a.createElement(Ae,{key:"yAxis-".concat(e),label:e,value:_(e),padding:h,width:D-h})}),k.map(function(e,t){var n=Object(o.a)(e,2),a=n[0],c=n[1],i=h+(b+v)*t,l=_(c),u=L-l,s=parseInt(a)%y===0,d=0===t&&!1,f=t===S-1&&!1;return r.a.createElement(ye,{key:"column-".concat(i,"-").concat(l),x:i,y:0},r.a.createElement(Ee,{x:-b/2,y:l,width:b,height:u,highlight:t>=k.length-3}),(s||d||f)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{y:L+2*v}),r.a.createElement(xe,{y:L+6*v,textAlign:"center"},a)))})),n&&r.a.createElement(Le,{reverse:!0,data:n,direction:"row"}))},Me=["Erfassung abgeschlossen","Erfassung in Arbeit"],Ne=function(e){return r.a.createElement(w.Flex,Object.assign({justifyContent:"center",flexWrap:"wrap",bg:"#F8FBFB",py:4,px:5},e))},Re=function(e){var t=function(e){var t=Object(a.useMemo)(function(){return H(e,D)},[e]),n=Object(a.useReducer)(N),r=Object(o.a)(n,2),c=r[0],i=r[1],l=Object(a.useReducer)(M,{}),u=Object(o.a)(l,2),s=u[0],d=u[1];return W(t,Object(a.useCallback)(function(e){Object(z.entries)(e.facets).forEach(function(e){var t=Object(o.a)(e,2),n=t[0],a=t[1];i({type:n,payload:a})})},[])),Object(a.useEffect)(function(){c&&d({type:"APPLY_MAPPING",payload:{state:c}})},[c]),s}(e.query);if(!t)return r.a.createElement(Ne,null,"Lade Statistiken ...");var n=t.language,c=t.rightsOA,i=t.resourceType,l=t[L],u=t.subject;return r.a.createElement(Ne,null,r.a.createElement(Te,{title:"Lizenzstatus",data:c,reverse:!0}),r.a.createElement(Pe,{title:"Erscheinungsjahr",data:l,height:190,legend:Me}),r.a.createElement(Be,{title:"Sprache",data:n}),r.a.createElement(Be,{title:"Publikationsform",data:i}),r.a.createElement(Te,{title:"Thema",data:u}))},Ie=function(){var e=Object(a.useContext)(y).query;return r.a.createElement(Re,{query:e})},qe=n(57),Fe=n(44),He=Object(Fe.a)(w.Box),Ge=function(e){var t=e.expand,n=e.renderHero,c=e.renderContent,i=Object(a.useState)(null),l=Object(o.a)(i,2),u=l[0],s=l[1],d=Object(a.useState)(null),h=Object(o.a)(d,2),f=h[0],m=h[1];Object(a.useEffect)(function(){var e=function(){var e=window.innerWidth,n=t?window.innerHeight-112:.4*window.innerHeight;s(e),m(n)};e();var n=Object(z.debounce)(e,200);return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}},[t]);var p=Object(Fe.b)(!t,null,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0}});return r.a.createElement(r.a.Fragment,null,f&&r.a.createElement(qe.Spring,{to:{height:f}},function(e){var t=e.height;return n({width:u,height:Math.trunc(t),targetHeight:f})}),p.map(function(e){var t=e.item,n=e.key,a=e.props;return t&&r.a.createElement(He,{key:n,style:a},c())}))},Ke=n(34),We=n(24),Ue="collection",Ve=6,Ye={locations:{type:"terms",field:"geoLocationPoint",limit:100,facet:{collection:{type:"terms",field:Ue},university:{type:"terms",field:"university"},institute:{type:"terms",field:"institute"}}}};var Je=function(e){return Object(a.useMemo)(function(){return{type:"FeatureCollection",features:e.map(function(e){var t=e.count,n=e.lng,a=e.lat,r=e.collection,c=e.university,i=e.institute,o=r.buckets.map(function(e){return e.val}).join("-"),l=c.buckets.map(function(e){return e.val}).join(" "),u=i.buckets.map(function(e){return e.val}).join("/");return{type:"Feature",properties:{count:t,label:l||u||"Kol: ".concat(o)},geometry:{type:"Point",coordinates:[n,a,0]}}})}},[e])},Ze="/typo3conf/ext/hosvisualization/Resources/Public",Xe=["interpolate",["linear"],["sqrt",["get","count"]],0,20,1e3,300],Qe=["number-format",["get","count"],{"min-fraction-digits":0,"max-fraction-digits":0}],$e=function(e){var t=e.endpoint,n=e.tileSize,r=e.geoFeatures,c=e.theme;return Object(a.useMemo)(function(){return{version:8,sources:{hh:{type:"raster",tiles:[t],attribution:"Freie und Hansestadt Hamburg, Landesbetrieb Geoinformation und Vermessung",tileSize:n},institutions:{type:"geojson",data:r,cluster:!0,clusterMaxZoom:14,clusterRadius:50,clusterProperties:{count:["+",["get","count"]]}}},glyphs:"".concat(Ze,"/glyphs/{fontstack}/{range}.pbf"),layers:[{id:"background",type:"raster",source:"hh"},{id:"clusters",type:"circle",source:"institutions",filter:["==","cluster",!0],paint:{"circle-color":c.colors.blueLight,"circle-opacity":.9,"circle-radius":Xe}},{id:"circles",type:"circle",source:"institutions",filter:["!=","cluster",!0],paint:{"circle-color":c.colors.blueDark,"circle-opacity":.9,"circle-radius":Xe}},{id:"cluster-counts",type:"symbol",source:"institutions",layout:{"text-field":Qe,"text-font":["OpenSans800"],"text-size":16},paint:{"text-color":"#ffffff","text-halo-width":1,"text-halo-color":c.colors.blueDark}},{id:"counts",type:"symbol",source:"institutions",filter:["!",["has","point_count"]],layout:{"text-field":Qe,"text-font":["OpenSans800"],"text-size":16},paint:{"text-color":"#ffffff","text-halo-width":1,"text-halo-color":c.colors.blueDark}},{id:"labels",type:"symbol",source:"institutions",filter:["!=","cluster",!0],layout:{"text-field":"{label}","text-font":["OpenSans800"],"text-size":16,"text-variable-anchor":["top","bottom","left","right"],"text-radial-offset":["+",["/",Xe,16],.25],"text-justify":"auto"},paint:{"text-color":c.colors.blueDark,"text-halo-width":2,"text-halo-color":"#ffffff"}}]}},[t,n,r,c])};function et(){var e=Object(l.a)(["\n  background: black;\n  color: white;\n  display: inline-block;\n  padding: 1rem;\n  width: 300px;\n"]);return et=function(){return e},e}var tt=d.default.div(et()),nt=function(e){var t=e.viewport;return r.a.createElement(Ke.a,{redraw:function(e){var n=e.width,a=e.height,c=(e.project,e.unproject,t.latitude),i=t.longitude,o=t.zoom;return r.a.createElement(tt,null,r.a.createElement("div",null,"lat: ",c),r.a.createElement("div",null,"lng: ",i," "),r.a.createElement("div",null,"zoom: ",o),r.a.createElement("div",null,n),r.a.createElement("div",null,a))}})},at=(n(77),Object(d.withTheme)(function(e){var t=e.width,n=void 0===t?400:t,c=e.height,i=void 0===c?400:c,l=e.query,u=e.endpoint,s=void 0===u?"/tiles?eID=wms&endpoint=https://geodienste.hamburg.de/HH_WMS_Kombi_DISK_GB&service=WMS&request=GetMap&layers=6,10,18,26,2,14,22&styles=&format=image/jpeg&transparent=false&version=1.1.1&retina=1.5&width=256&height=256&srs=EPSG:3857&bbox={bbox-epsg-3857}":u,d=e.tileSize,f=void 0===d?256:d,m=e.debug,p=e.theme,b=e.zoom,g=Object(a.useState)({latitude:53.54506755814413,longitude:10.008235012803445,zoom:10,minZoom:10,maxZoom:16}),v=Object(o.a)(g,2),O=v[0],y=v[1];Object(a.useEffect)(function(){b&&b!==O.zoom&&y(Object(h.a)({},O,{zoom:b}))},[b,O]);var j=Object(a.useCallback)(function(e){y(e)},[]),E=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)(function(){var t=!0,n=H(e,Ye);return F(n,function(e){t&&c(e.facets.locations.buckets.map(function(e){var t=e.val,n=Object(We.a)(e,["val"]),a=t.split(",").map(function(e){return parseFloat(e)}),r=Object(o.a)(a,2),c=r[0],i=r[1];return Object(h.a)({},n,{lat:c,lng:i})}).filter(function(e){var t=e.lat,n=e.lng;return t&&n}))}),function(){t=!1}},[e]),r}(l),x=Je(E),k=$e({endpoint:s,tileSize:f,geoFeatures:x,theme:p});return r.a.createElement(Ke.b,Object.assign({},O,{width:n,height:i,mapStyle:k,onViewportChange:j}),m&&r.a.createElement(nt,{viewport:O}))})),rt=function(e){var t=e.width,n=e.height,c=Object(a.useContext)(y).query;return r.a.createElement(at,{query:c,width:t,height:n})},ct=function(e){var t=e.location,n=e.history;return Object(a.useCallback)(function(e){n.push(Object(h.a)({},t,{search:e?"q=".concat(encodeURIComponent(e)):null}))},[n,t])},it={collections:{type:"terms",field:Ue}},ot={collections:{type:"terms",field:Ue,facet:{subjects:{type:"terms",field:"subject",limit:Ve,facet:{related:{type:"terms",field:"subject",limit:20}}}}}},lt=n(20),ut=function(e,t,n,a){return{id:e,label:0===n?e:"".concat(e.slice(0,40)," ").concat(e.length>40?"...":""),counts:[{id:"#collection",count:t}],get count(){return this.counts[0].count},get foreignRelated(){var e=this;return this.related.filter(function(t){return 1===t.depth&&t.parent!==e.parent})},get isBridge(){return this.foreignRelated.length>0&&1===this.depth},get isContext(){return!!this.related.filter(function(e){return 1===e.depth}).find(function(e){return e.selected})},depth:n,parent:null,children:[],related:[],selected:a}},st=function(e,t){return{get id(){return[this.source.id,this.target.id].sort().join("-")},source:e,target:t,weight:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,type:arguments.length>3?arguments[3]:void 0,bidirectional:arguments.length>4&&void 0!==arguments[4]&&arguments[4]}},dt="RECEIVED_RELATIONS",ht=2,ft=[9,8],mt=[10,60];var pt=function(e,t){var n=t.type,a=t.payload;switch(n){case dt:var r=function(e){var t=e.data,n=e.query,a=t.facets.collections,r=a?a.buckets:[],c=new Map,i=ut("root",0,-1);c.set("root",i);var o=[];!function e(t){var a=t.parent,r=t.children,i=t.depth,l=void 0===i?0:i,u=[];r.forEach(function(e){var t=e.val,r=e.count,i=e.subjects,s=e.related,d=c.has(t);if(!d){var h=ut(t,r,l,t===n);c.set(t,h),a&&(h.parent=a,a.children.push(h))}var f=c.get(t);d&&f.id!==a.id&&(f.related.push(a),f.counts.push({id:a.id,count:r}),a.related.push(f),a.counts.push({id:f.id,count:r}));var m=i||s;if(a&&t!==a.id){var p=st(a,f,r/a.count,["rc","cs","ss"][l]);o.push(p)}m&&u.push({parent:f,children:m.buckets,depth:l+1})}),u.forEach(e)}({parent:i,children:r});var l=Object(lt.a)(c.values()),u=Object(R.extent)(l.map(function(e){return e.count})),s=Object(R.scaleSqrt)().domain(u).range(mt),d=l.map(function(e){if(e!==i){var t=s(e.count);e.radius=t,e.width=Math.round(Math.max(e.label.length*ft[e.depth],2*t)+ht),e.height=2*t+32+ht}else e.width=0,e.height=0;return e}),f=Object(z.values)(Object(z.mapValues)(Object(z.groupBy)(o,"id"),function(e){return Object(h.a)({},e[0],{bidirectional:e.length>1})})),m=d.filter(function(e){return e.depth<2}),p=f.filter(function(e){var t=e.source,n=e.target;return t.depth<2&&n.depth<2}),b=m.filter(function(e){return 0===e.depth&&e.children.length>0}).map(function(e){return{id:e.id,leaves:[e].concat(Object(lt.a)(e.children.filter(function(e){return 0===e.related.length||e.related.filter(function(e){return e.depth<2}).every(function(t){return t.parent===e.parent})})))}}).filter(function(e){return e.leaves.length>1}),g=Object(z.flatten)(b.map(function(e){return e.leaves})),v=z.without.apply(void 0,[m.filter(function(e){return e!==i})].concat(Object(lt.a)(g)));if(v.length>0){var O={id:"remaining",leaves:v};b.push(O)}return{nodes:m,links:p,groups:b}}(a),c=r.nodes,i=r.links,o=r.groups;return Object(h.a)({},e,{nodes:c,links:i,groups:o});default:return e}},bt=function(e,t){var n=Object(a.useReducer)(pt,{nodes:[],links:[],groups:[]}),r=Object(o.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)(function(){var n=H(e,t?ot:it);F(n,function(t){i({type:dt,payload:{data:t,query:e}})})},[e,t]),c},gt=n(59),vt=function(e,t){var n=t.type,a=t.payload;switch(n){case"DATA_CHANGED":var r=a.links,c=a.groups,i=a.width,o=a.height,l=a.nodes.map(function(t){if("root"!==t.id&&!t.selected){var n=e.nodes.find(function(e){return e.id===t.id});if(n){var a=Object(z.clamp)(n.x,60,i-60),r=Object(z.clamp)(n.y,120,o-120);t.x=a,t.y=r}else t.x=i/2,t.y=o/2}return t.selected&&(t.x=i/2,t.y=o/2,t.fixed=!0),t}),u=l.find(function(e){return"root"===e.id});u&&(u.x=i/2,u.y=o/2,u.fixed=!0);var s=Object(lt.a)(l),d=[];if(l.length>0){var f={id:"topLeft",x:60,y:120,width:0,height:0,fixed:!0,fixedWeight:1e6},m={id:"bottomRight",x:i-60,y:o-120,width:0,height:0,fixed:!0,fixedWeight:1e6};s.unshift(m),s.unshift(f);var p=s.indexOf(f),b=s.indexOf(m);d=Object(z.flatten)(s.map(function(e,t){return["root","topLeft","bottomRight"].indexOf(e.id)>-1?[]:[{axis:"x",type:"separation",left:p,right:t,gap:e.width/2},{axis:"y",type:"separation",left:p,right:t,gap:e.height/2},{axis:"x",type:"separation",left:t,right:b,gap:e.width/2},{axis:"y",type:"separation",left:t,right:b,gap:e.height/2}]}))}return Object(h.a)({},e,{simNodes:s,nodes:l,links:r,constraints:d,groups:c});default:return e}},Ot=function(e){var t=e.data,n=e.width,r=e.height,c=Object(a.useState)(null),i=Object(o.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)(!1),d=Object(o.a)(s,2),f=d[0],m=d[1],p=Object(a.useState)(0),b=Object(o.a)(p,2),g=b[0],v=b[1],O=Object(a.useReducer)(vt,{nodes:[],simNodes:[],links:[],constraints:[],groups:[]}),y=Object(o.a)(O,2),j=y[0],E=j.simNodes,x=j.nodes,k=j.links,S=j.groups,w=j.constraints,z=y[1];return Object(a.useEffect)(function(){z({type:"DATA_CHANGED",payload:Object(h.a)({},t,{width:n,height:r})})},[t,n,r]),Object(a.useLayoutEffect)(function(){if(E.length>0){var e=gt.d3adaptor(R).jaccardLinkLengths(100,.7).avoidOverlaps(!0).size([n,r]).nodes(E).links(k).constraints(w);return e.start(15,0,0,0,!0,!0),e.on("tick",function(){v(e.alpha())}),m(!0),u(e),function(){console.log("!!! STOPPING simulation"),e.stop()}}},[E,k,S,w,r,n]),{nodes:x,links:k,groups:S,alpha:g,simulation:l,ready:f}};function yt(){var e=Object(l.a)(["\n  font-weight: 700;\n  ",";\n"]);return yt=function(){return e},e}function jt(){var e=Object(l.a)(["\n  font-family: ",";\n  font-weight: 500;\n  ",";\n"]);return jt=function(){return e},e}function Et(){var e=Object(l.a)(["\n  fill: none;\n  stroke-width: 1px;\n  stroke: black;\n"]);return Et=function(){return e},e}function xt(){var e=Object(l.a)(["\n  display: ",";\n  cursor: pointer;\n  user-select: none;\n"]);return xt=function(){return e},e}function kt(){var e=Object(l.a)(["\n  stroke: ",";\n  stroke-width: 1.5px;\n  opacity: 0.75;\n  ","\n"]);return kt=function(){return e},e}function St(){var e=Object(l.a)(["\n  ","\n  fill: rgba(255, 255, 255, 0.5);\n"]);return St=function(){return e},e}function wt(){var e=Object(l.a)(["\n  ",";\n"]);return wt=function(){return e},e}function zt(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n"]);return zt=function(){return e},e}var _t,Lt,Dt,Ct,Tt=Object(U.f)({key:"nodeStyles"}),Bt=Object(U.f)({key:"edgeStyles"}),At=Object(U.f)({key:"nodeTextStyles"}),Pt=Object(U.f)({key:"nodeCountTextStyles"}),Mt=d.default.svg(zt()),Nt=d.default.circle(wt(),Tt),Rt=Object(d.default)(Nt)(St(),Tt),It=d.default.line(kt(),function(e){return e.theme.colors.greyLight},Bt),qt=d.default.g.attrs(function(e){var t=e.x,n=e.y;e.depth;return{style:{transform:"translate(".concat(t,"px,").concat(n,"px)")}}})(xt(),function(e){return e.depth<0?"none":"initial"}),Ft=d.default.rect(Et()),Ht=d.default.text(jt(),function(e){return e.theme.fontFamily},At),Gt=d.default.text(yt(),Pt),Kt="NODE_STYLE_DEPTH_0",Wt="NODE_STYLE_DEPTH_1",Ut="NODE_STYLE_SELECTED_SUBJECT",Vt="NODE_STYLE_SELECTED_COLLECTION",Yt="highlight",Jt={red:"#E30513",redLight:"#FFE8E9",greyLight:"#DEDEDE",grey:"#9B9B9B",greyDark:"#595959",blueLight:"#92CDDA",blueMediumLight:"#77AAB5",blueMediumDark:"#438B9E",blueDark:"#326774"},Zt=[12,14,16,21],Xt={fontSizes:Zt,fontFamily:"Open Sans, sans-serif",colors:Jt,chartColors:[Jt.blueLight,Jt.blueDark],space:[0,4,8,16,32,64,128,256],nodeStyles:(_t={},Object(_.a)(_t,Kt,{fill:Jt.blueLight,opacity:.66}),Object(_.a)(_t,Wt,{fill:"rgba(240, 240, 240)"}),Object(_.a)(_t,"NODE_STYLE_DEPTH_SHARED",{fill:"red"}),Object(_.a)(_t,Ut,{fill:"rgba(255, 255, 255, 0.9)"}),Object(_.a)(_t,Vt,{fill:Jt.blueMediumLight}),_t),edgeStyles:(Lt={},Object(_.a)(Lt,Yt,{stroke:Jt.blueLight,opacity:1}),Object(_.a)(Lt,"rc",{stroke:"red",display:"none"}),Object(_.a)(Lt,"cs",{stroke:Jt.greyLight,strokeDasharray:"5 5"}),Object(_.a)(Lt,"ss",{stroke:Jt.grey,opacity:.3}),Lt),nodeTextStyles:(Dt={},Object(_.a)(Dt,Kt,{fontSize:Zt[1],fill:Jt.blueDark}),Object(_.a)(Dt,Wt,{fontSize:Zt[0],fill:Jt.greyDark}),Object(_.a)(Dt,Ut,{fontSize:Zt[0],fill:Jt.blueDark}),Object(_.a)(Dt,Vt,{fontSize:Zt[1],fill:Jt.blueDark}),Dt),nodeCountTextStyles:(Ct={},Object(_.a)(Ct,Kt,{fontSize:Zt[3],fill:Jt.blueDark}),Object(_.a)(Ct,Wt,{fontSize:Zt[2],fill:Jt.grey}),Object(_.a)(Ct,Ut,{fontSize:Zt[2],fill:Jt.grey}),Object(_.a)(Ct,Vt,{fontSize:Zt[3],fill:"white"}),Ct)};var Qt=function(e){var t=e.source,n=e.target,a=e.type;return r.a.createElement(It,{x1:t.x,y1:t.y,x2:n.x,y2:n.y,variant:(t.selected||n.selected)&&"root"!==t.id?Yt:a})};function $t(e){var t=e.id,n=e.label,c=e.width,i=void 0===c?10:c,o=e.height,l=void 0===o?10:o,u=e.radius,s=void 0===u?5:u,d=e.depth,h=e.count,f=(e.isBridge,e.debug),m=e.selected,p=(e.source,e.target,e.isContext);return Object(a.useMemo)(function(){var e=m?0===d?Vt:Ut:[Kt,Wt][d],a={r:s,variant:e};return r.a.createElement(r.a.Fragment,null,m&&r.a.createElement(Rt,Object.assign({},a,{r:s+10})),r.a.createElement(Nt,a),r.a.createElement(Ht,{y:0===d?s<40?s+16:32:4,textAnchor:"middle",variant:p?1===d?Ut:Vt:e,selected:m},n||t),0===d&&r.a.createElement(Gt,{textAnchor:"middle",alignmentBaseline:"central",variant:e,selected:m},q(h)),f&&r.a.createElement("rect",{x:-i/2,y:-l/2,width:i,height:l,fill:"rgba(0, 0, 0, 0.1)"}))},[t,n,i,l,s,d,h,f,m,p])}var en=function(e){var t=e.id,n=e.label,c=e.x,i=e.y,o=e.depth,l=e.onClick,u=void 0===l?function(e){return e}:l,s=Object(a.useCallback)(function(){return u(t)},[t,u]);return r.a.createElement(qt,{x:c,y:i,depth:o,onClick:s},r.a.createElement($t,e),n&&n.length<t.length&&r.a.createElement("title",null,t))},tn=function(e){var t=e.bounds;return Object(a.useMemo)(function(){var e=t.x,n=t.y;return r.a.createElement(Ft,{x:e,y:n,width:t.width(),height:t.height()})},[t])};function nn(){var e=Object(l.a)(["\n  ",";\n"]);return nn=function(){return e},e}var an=Object(d.default)(w.Box)(nn(),U.d);var rn=function(e){var t=e.query,n=e.className,a=e.width,c=void 0===a?400:a,i=e.height,o=void 0===i?400:i,l=e.simulationHeight,u=void 0===l?400:l,s=e.showLinks,d=void 0===s||s,h=e.explore,f=void 0!==h&&h,m=e.onSelect,p=bt(t,f),b=Ot({data:p,width:c,height:u}),g=b.nodes,v=b.links,O=b.groups,y=b.ready;return r.a.createElement(an,{className:n,width:c,height:o,bg:"rgba(0,0,0, 0.03)"},y&&r.a.createElement(Mt,null,O.filter(function(e){return!!e.bounds}).map(function(e,t){var n=e.bounds;return r.a.createElement(tn,{key:"group-".concat(t),bounds:n})}),!!d&&v.filter(function(e){return!t||e.source.selected||e.target.selected||0===e.source.depth}).map(function(e){return r.a.createElement(Qt,Object.assign({key:"path-".concat(e.source.id,"-").concat(e.target.id)},e))}),g.map(function(e){return r.a.createElement(en,Object.assign({key:"node-".concat(e.id)},e,{onClick:m}))})))},cn=Object(u.g)(function(e){var t=e.location,n=e.history,c=Object(We.a)(e,["location","history"]),i=Object(a.useContext)(y).query,o=ct({location:t,history:n});return r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/graph"},function(e){var t=e.location;return t.search?r.a.createElement(u.a,{to:Object(h.a)({},t,{pathname:"/graph/explore"})}):r.a.createElement(rn,Object.assign({onSelect:o,explore:!1},c))}),r.a.createElement(u.b,{exact:!0,path:"/graph/explore"},r.a.createElement(rn,Object.assign({query:i,onSelect:o,explore:!0},c))))}),on=function(e){var t=Object(a.useState)(0),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useMemo)(function(){return H(e)},[e]),l=Object(a.useCallback)(function(e){var t=e.response;c(t.numFound)},[]);return{count:r,isLoading:W(i,l).isLoading}},ln=function(e){return"".concat("",'/de/suchen-entdecken/discovery/?tx_find_find[__referrer][@extension]=Find&tx_find_find[__referrer][@vendor]=Subugoe&tx_find_find[__referrer][@controller]=Search&tx_find_find[__referrer][@action]=index&tx_find_find[__referrer][arguments]=YToxOntzOjE6InEiO2E6Nzp7czozOiJhbGwiO3M6MTU6IkRhdGEgUHJvY2Vzc2luZyI7czo3OiJhdXRob3JzIjtzOjA6IiI7czo3OiJkZWZhdWx0IjtzOjA6IiI7czo4OiJmdWxsdGV4dCI7czowOiIiO3M6MTA6InB1Ymxpc2hlcnMiO3M6MDoiIjtzOjg6InN1YmplY3RzIjtzOjA6IiI7czo2OiJ0aXRsZXMiO3M6MDoiIjt9fQ==84ceee3840c75fe70ccbde38d63fe12889b190b6&tx_find_find[__referrer][@request]=a:4:{s:10:"@extension";s:4:"Find";s:11:"@controller";s:6:"Search";s:7:"@action";s:5:"index";s:7:"@vendor";s:7:"Subugoe";}fcac206facd7fc97ccf479c8905fa76ff43930c6&tx_find_find[__trustedProperties]=a:1:{s:1:"q";a:7:{s:7:"default";i:1;s:3:"all";i:1;s:7:"authors";i:1;s:8:"fulltext";i:1;s:10:"publishers";i:1;s:8:"subjects";i:1;s:6:"titles";i:1;}}6c850a55e9c482f4b614787373e30d12a8823c5d&tx_find_find[q][default]=&tx_find_find[q][all]="').concat(e?e.replace(/ +/g,"+"):"",'"&tx_find_find[q][authors]=&tx_find_find[q][fulltext]=&tx_find_find[q][publishers]=&tx_find_find[q][subjects]=&tx_find_find[q][titles]=#tx_find')};var un=function(){var e=Object(a.useContext)(y).query,t=on(e),n=t.count;return t.isLoading?r.a.createElement("div",null,"Loading..."):r.a.createElement(w.Box,{py:3},q(n)," Publikationen",r.a.createElement("br",null),r.a.createElement("a",{href:ln(e),target:"blank"},"Ergebnis anzeigen >>"))};function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function dn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var hn=r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),fn=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),mn=function(e){var t=e.svgRef,n=dn(e,["svgRef"]);return r.a.createElement("svg",sn({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),hn,fn)},pn=r.a.forwardRef(function(e,t){return r.a.createElement(mn,sn({svgRef:t},e))});n.p;function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function gn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var vn=r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),On=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),yn=function(e){var t=e.svgRef,n=gn(e,["svgRef"]);return r.a.createElement("svg",bn({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),vn,On)},jn=r.a.forwardRef(function(e,t){return r.a.createElement(yn,bn({svgRef:t},e))});n.p;function En(){var e=Object(l.a)(["\n  display: inline-block;\n  background: ",";\n  border-radius: ","px;\n  width: ","px;\n  height: ","px;\n  transform: scale(",");\n  position: relative;\n  transition: all 0.2s ease-in-out;\n\n  svg {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    fill: white;\n  }\n\n  &:hover {\n    background: ",";\n\n    svg {\n      fill: white;\n    }\n  }\n"]);return En=function(){return e},e}function xn(){var e=Object(l.a)(["\n  opacity: ",";\n  font-weight: 500;\n  border: none;\n  /* TODO: fix border flickering */\n  border-bottom: ","px solid\n    ",";\n  transition: all 0.2s ease-in-out;\n  border-radius: 4px;\n  ",";\n  ",";\n  ",";\n  ",";\n\n  &:focus {\n    outline-width: 0;\n  }\n"]);return xn=function(){return e},e}var kn=d.default.input(xn(),function(e){return e.show?1:0},function(e){e.active;return 2},function(e){var t=e.theme;return e.active?t.colors.blueLight:t.colors.greyDark},U.a,U.e,U.c,U.g),Sn=Object(d.default)(w.Box)(En(),function(e){return e.theme.colors.greyDark},function(e){return e.theme.space[5]},function(e){return e.theme.space[5]},function(e){return e.theme.space[5]},function(e){return e.large?1:.66},function(e){return e.theme.colors.blueLight}),wn=function(e){var t=e.query,n=e.onChange,c=e.className,i=Object(a.useState)(""),l=Object(o.a)(i,2),u=l[0],s=l[1],d=Object(a.useState)(!1),h=Object(o.a)(d,2),f=h[0],m=h[1],p=Object(a.useState)(!1),b=Object(o.a)(p,2),g=b[0],v=b[1],O=Object(a.useState)(!1),y=Object(o.a)(O,2),j=y[0],E=y[1],x=Object(a.useRef)(null),k=Object(a.useCallback)(function(){s(""),v(!1),n("")},[s,v,n]);Object(a.useEffect)(function(){s(t)},[t]);var S=Object(a.useCallback)(function(e){var t=e.target.value;t!==u&&(v(!1),s(t)),"Enter"===e.key&&(v(!0),n(t)),"Escape"===e.key&&k()},[n,u,k]),z=Object(a.useCallback)(function(){u||m(!1),E(!1)},[u]),_=Object(a.useCallback)(function(){E(!0)},[]);return r.a.createElement("div",{className:c},r.a.createElement(w.Flex,{alignItems:"center"},r.a.createElement(kn,{ref:x,show:f,active:j,type:"text",placeholder:"Suchbegriff eingeben",onKeyDown:S,onChange:S,onBlur:z,onFocus:_,value:u,mr:2,px:2,py:2,fontSize:3,width:f?"initial":0,bg:"white",color:"blueDark"}),(!f||u&&!g)&&r.a.createElement(Sn,{onClick:function(){f?(v(!0),n(u)):m(!0)},onMouseEnter:function(){m(!0),x.current.focus()},large:!f},r.a.createElement(pn,null)),g&&f&&r.a.createElement(Sn,{large:!f},r.a.createElement(jn,{onClick:function(){k(),x.current.focus()}}))),g&&r.a.createElement(un,null))},zn=Object(u.g)(function(e){var t=e.history,n=e.location,c=e.match,i=e.className,o=Object(a.useContext)(y).query,l=ct({history:t,location:n,match:c});return r.a.createElement(wn,{className:i,query:o,onChange:l})});function _n(){var e=Object(l.a)(["\n  white-space: nowrap;\n"]);return _n=function(){return e},e}var Ln=Object(d.default)(w.Button)(_n()),Dn=function(e){var t=e.children,n=Object(We.a)(e,["children"]);return r.a.createElement(Ln,Object.assign({bg:"blueDark",px:4,py:3},n),t)},Cn=function(e){var t=e.to,n=e.children,a=e.className,c=Object(We.a)(e,["to","children","className"]);return r.a.createElement(s.b,{to:t,className:a},r.a.createElement(Dn,c,n))},Tn=function(e){var t=e.to,n=e.label;return r.a.createElement(u.b,{path:t,children:function(e){var a=e.match,c=e.location;return a?null:r.a.createElement(Cn,{to:Object(h.a)({},c,{pathname:t}),bg:"greyDark",color:"white",width:170},n)}})},Bn=function(e){var t=e.className;return r.a.createElement("div",{className:t},r.a.createElement(Tn,{to:"/map",label:"Einrichtungen"}),r.a.createElement(Tn,{to:"/graph",label:"Kollektionen"}))};function An(){return(An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Pn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Mn=r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),Nn=r.a.createElement("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),Rn=function(e){var t=e.svgRef,n=Pn(e,["svgRef"]);return r.a.createElement("svg",An({width:24,height:24,viewBox:"0 0 24 24",ref:t},n),Mn,Nn)},In=r.a.forwardRef(function(e,t){return r.a.createElement(Rn,An({svgRef:t},e))});n.p;function qn(){return(qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Fn(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Hn=r.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(0 -4)"},r.a.createElement("g",{transform:"translate(.5 27)"},r.a.createElement("circle",{cx:12,cy:12,r:12,fill:"#92CDDA",opacity:.66}),r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans, Open Sans",fontSize:14},r.a.createElement("tspan",{x:39,y:18},"Kollektion"))),r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans, Open Sans",fontSize:14},r.a.createElement("tspan",{x:39,y:109},"Anzahl Publikationen")),r.a.createElement("text",{fill:"#326774",fontFamily:"OpenSans-Bold, Open Sans",fontSize:10,fontWeight:"bold"},r.a.createElement("tspan",{x:3.438,y:43},"123")),r.a.createElement("g",{transform:"translate(.5 59)"},r.a.createElement("circle",{cx:12,cy:12,r:12,fill:"#DEDEDE",opacity:.66}),r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans, Open Sans",fontSize:14},r.a.createElement("tspan",{x:39,y:18},"Top 6 Thema"))),r.a.createElement("g",{transform:"translate(3 186)"},r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans, Open Sans",fontSize:14},r.a.createElement("tspan",{x:36,y:15},"Kollektion \u2013 Thema")),r.a.createElement("path",{stroke:"#9B9B9B",strokeDasharray:"3 5",strokeLinecap:"square",strokeWidth:1.5,d:"M0,9 L20,9",opacity:.5})),r.a.createElement("g",{transform:"translate(3 159)"},r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans, Open Sans",fontSize:14},r.a.createElement("tspan",{x:36,y:15},"Thema \u2013 Thema")),r.a.createElement("path",{stroke:"#9B9B9B",strokeLinecap:"square",strokeWidth:1.5,d:"M0,9 L20,9"})),r.a.createElement("g",{transform:"translate(3 213)"},r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans, Open Sans",fontSize:14},r.a.createElement("tspan",{x:36,y:15},"Auswahl \u2013 verwandtes Thema")),r.a.createElement("path",{stroke:"#92CDDA",strokeLinecap:"square",strokeWidth:1.5,d:"M0,12 L20,12"})),r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},r.a.createElement("tspan",{x:39,y:147},"Beziehungen")),r.a.createElement("text",{fill:"#404040",fontFamily:"OpenSans-Semibold, Open Sans",fontSize:14,fontWeight:500},r.a.createElement("tspan",{x:39,y:15},"Objekte")),r.a.createElement("g",{stroke:"#404040",strokeWidth:2,opacity:.66,transform:"translate(0 91)"},r.a.createElement("circle",{cx:12,cy:12,r:11}),r.a.createElement("circle",{cx:12,cy:18,r:5}))),Gn=function(e){var t=e.svgRef,n=Fn(e,["svgRef"]);return r.a.createElement("svg",qn({width:232,height:225,viewBox:"0 0 232 225",ref:t},n),Hn)},Kn=r.a.forwardRef(function(e,t){return r.a.createElement(Gn,qn({svgRef:t},e))});n.p;function Wn(){var e=Object(l.a)(["\n  ",";\n"]);return Wn=function(){return e},e}function Un(){var e=Object(l.a)(["\n  ",";\n"]);return Un=function(){return e},e}function Vn(){var e=Object(l.a)(["\n  padding: 12px;\n  width: 48px;\n  height: 48px;\n"]);return Vn=function(){return e},e}function Yn(){var e=Object(l.a)(["\n  transition: border-radius 100ms ease-in-out;\n  border-radius: ","px;\n  position: absolute;\n  z-index: 1;\n  bottom: 0;\n"]);return Yn=function(){return e},e}var Jn=Object(d.default)(w.Box)(Yn(),function(e){return e.collapsed?48:0}),Zn=d.default.div.attrs(function(e){return{style:e.moveToTop?{position:"absolute",right:0,top:0}:{}}})(Vn()),Xn=Object(d.default)(jn)(Un(),G),Qn=Object(d.default)(In)(Wn(),G),$n=function(e){var t=e.children;return r.a.createElement(w.Heading,{fontSize:3,color:"blueDark",mb:3},t)},ea=function(e){var t=e.children;return r.a.createElement(w.Text,{lineHeight:1.5,color:"greyDark",width:350},t)},ta=function(e){var t=e.path,n=e.show,c=e.actionCreator,i=e.title,o=e.children,l=Object(a.useContext)(j);return r.a.createElement(u.b,{exact:!0,path:t,render:function(){return r.a.createElement(Jn,{collapsed:!n,fontSize:1,bg:"rgba(255, 255, 255, 0.95)",p:n?4:0,ml:4,mb:5},r.a.createElement(Zn,{moveToTop:n,onClick:function(){return l(c())}},n?r.a.createElement(Xn,{fill:"greyDark"}):r.a.createElement(Qn,{fill:"greyDark"})),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement($n,null,i),o))}})},na=function(e){e.width,e.height;var t=Object(a.useContext)(y),n=t.showMapLegend,c=t.showGraphLegend,i=t.showGraphExploreLegend;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ta,{path:"/map",show:n,actionCreator:g,title:"Einrichtungen"},r.a.createElement(ea,null,"[Platzhalter] In Hamburg steuern XXX Einrichtungen Daten zum Hamburg Open Science Projekt bei. Die Karte zeigt die Standorte und die Anzahl der zum Suchbegriff gefundenen Publikationen. Farben erl\xe4utern: Standorte (dunkelblau), Cluster (hellblau)")),r.a.createElement(ta,{path:"/graph",show:c,actionCreator:v,title:"Kollektionen"},r.a.createElement(ea,null,"[Platzhalter] Kollektionen sind Sammlungen von Publikationen. Sie werden dem Projekt von den teilnehmenden Einrichtungen zur Verf\xfcgung gestellt. Evtl. entwas zur Verarbeitung? Dargestellt wird die Anzahl der in den Kollektionen befindlichen Publikationen.")),r.a.createElement(ta,{path:"/graph/explore",show:i,actionCreator:O,title:"Legende"},r.a.createElement(Kn,null)))},aa=d.default.div.withConfig({displayName:"Hero__Wrapper",componentId:"sc-18ypf2q-0"})(["position:relative;"]),ra=Object(d.default)(Cn).withConfig({displayName:"Hero__Toggle",componentId:"sc-18ypf2q-1"})(["position:absolute;right:0;bottom:0;margin:",";"],function(e){var t=e.theme.space;return"".concat(t[5],"px ").concat(t[4],"px")}),ca=Object(d.default)(zn).withConfig({displayName:"Hero__Search",componentId:"sc-18ypf2q-2"})(["position:absolute;top:0;left:0;margin:",";"],function(e){var t=e.theme.space;return"".concat(t[5],"px ").concat(t[4],"px")}),ia=Object(d.default)(Bn).withConfig({displayName:"Hero__Nav",componentId:"sc-18ypf2q-3"})(["position:absolute;top:0;right:0;margin:",";"],function(e){var t=e.theme.space;return"".concat(t[5],"px ").concat(t[4],"px")}),oa=d.default.div.withConfig({displayName:"Hero___StyledDiv",componentId:"sc-18ypf2q-4"})(["position:relative;"]),la=function(e){var t=e.width,n=e.height,c=e.targetHeight;return Object(a.useMemo)(function(){return r.a.createElement(oa,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/map",render:function(){return r.a.createElement(rt,{width:t,height:n})}}),r.a.createElement(u.b,{path:"/graph",render:function(){return r.a.createElement(aa,null,r.a.createElement(cn,{width:t,height:n,simulationHeight:c}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/graph"},r.a.createElement(ra,{to:"/graph/explore"},"Themen erkunden")),r.a.createElement(u.b,{exact:!0,path:"/graph/explore"},r.a.createElement(ra,{to:"/graph"},"zur \xdcbersicht"))))}})),r.a.createElement(na,null),r.a.createElement(ca,null),r.a.createElement(ia,null))},[t,n,c])};function ua(){var e=Object(l.a)(["\n  box-sizing: border-box;\n  font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI',\n    'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',\n    'Helvetica Neue', sans-serif;\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n    font-family: inherit;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n"]);return ua=function(){return e},e}var sa=d.default.div(ua());function da(e){var t=e.query,n=Object(a.useReducer)(x,E),c=Object(o.a)(n,2),i=c[0],l=c[1];Object(a.useEffect)(function(){l({type:f,payload:t})},[t]);var s=Object(a.useCallback)(function(e){var t=e.width,n=e.height,a=e.targetHeight;return r.a.createElement(la,{width:t,height:n,targetHeight:a})},[]);return r.a.createElement(y.Provider,{value:i},r.a.createElement(j.Provider,{value:l},r.a.createElement(u.b,{path:"*/explore"},function(e){var t=!!e.match;return r.a.createElement(Ge,{expand:t,renderHero:s,renderContent:function(){return r.a.createElement(Ie,null)}})})))}var ha=function(){return r.a.createElement(sa,null,r.a.createElement(u.d,null,r.a.createElement(u.a,{exact:!0,from:"/",to:{pathname:"/map",search:"q=*"}}),r.a.createElement(u.b,{exact:!0,path:["/map","/graph","/graph/explore"],render:function(e){var t=e.location,n=new URLSearchParams(t.search).get("q");return r.a.createElement(da,{query:n})}}),r.a.createElement(u.b,null,"Seite konnte nicht gefunden werden.")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(85);i.a.render(r.a.createElement(function(){return r.a.createElement(d.ThemeProvider,{theme:Xt},r.a.createElement(s.a,null,r.a.createElement(ha,null)))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[64,1,2]]]);
//# sourceMappingURL=main.e50b47d5.chunk.js.map